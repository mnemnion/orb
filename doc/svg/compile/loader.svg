<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="11884pt" height="1892pt"
 viewBox="0.00 0.00 11883.50 1892.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1888.4027)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1888.4027 11879.5,-1888.4027 11879.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="4587" cy="-1866.4027" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="4587" y="-1862.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 352</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="4587" cy="-1794.4027" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="4587" y="-1790.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;306</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4587,-1848.234C4587,-1840.5336 4587,-1831.377 4587,-1822.8193"/>
<polygon fill="#000000" stroke="#000000" points="4590.5001,-1822.8159 4587,-1812.816 4583.5001,-1822.816 4590.5001,-1822.8159"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="726" cy="-1722.4027" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="726" y="-1718.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : loader</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4521.3424,-1793.9152C4054.1063,-1790.3848 1240.3591,-1768.088 862,-1740.4027 834.651,-1738.4015 804.3928,-1734.5594 779.3744,-1730.9371"/>
<polygon fill="#000000" stroke="#000000" points="779.7571,-1727.4557 769.3531,-1729.4578 778.7348,-1734.3807 779.7571,-1727.4557"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="903" cy="-1722.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="903" y="-1718.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4521.2755,-1794.2243C4062.6078,-1792.873 1347.8644,-1783.1066 984,-1740.4027 970.0906,-1738.7702 955.064,-1735.7818 941.7747,-1732.7026"/>
<polygon fill="#000000" stroke="#000000" points="942.5395,-1729.2868 931.9983,-1730.3512 940.9025,-1736.0927 942.5395,-1729.2868"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="1025" cy="-1722.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1025" y="-1718.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4521.3633,-1793.0759C4070.2288,-1783.957 1435.3464,-1730.6972 1067.6075,-1723.2639"/>
<polygon fill="#000000" stroke="#000000" points="1067.4621,-1719.7604 1057.3934,-1723.0575 1067.3206,-1726.7589 1067.4621,-1719.7604"/>
</g>
<!-- section_5 -->
<g id="node6" class="node">
<title>section_5</title>
<ellipse fill="none" stroke="#000000" cx="2498" cy="-1722.4027" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="2498" y="-1718.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 10&#45;30</text>
</g>
<!-- section_1&#45;&gt;section_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;section_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4521.6111,-1792.149C4213.0138,-1781.5128 2903.5347,-1736.3799 2573.6728,-1725.0108"/>
<polygon fill="#000000" stroke="#000000" points="2573.3908,-1721.4991 2563.2762,-1724.6525 2573.1496,-1728.495 2573.3908,-1721.4991"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="3769" cy="-1722.4027" rx="70.655" ry="18"/>
<text text-anchor="middle" x="3769" y="-1718.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 31&#45;101</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4524.1712,-1788.8725C4376.369,-1775.863 4007.0235,-1743.3534 3846.0384,-1729.1836"/>
<polygon fill="#000000" stroke="#000000" points="3846.0088,-1725.6675 3835.7404,-1728.2771 3845.395,-1732.6406 3846.0088,-1725.6675"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="5247" cy="-1722.4027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="5247" y="-1718.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 164&#45;183</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4648.2031,-1787.726C4768.3453,-1774.6196 5034.9083,-1745.54 5168.0838,-1731.0117"/>
<polygon fill="#000000" stroke="#000000" points="5168.6544,-1734.4703 5178.2158,-1729.9064 5167.8952,-1727.5116 5168.6544,-1734.4703"/>
</g>
<!-- section_8 -->
<g id="node9" class="node">
<title>section_8</title>
<ellipse fill="none" stroke="#000000" cx="6411" cy="-1722.4027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="6411" y="-1718.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 184&#45;219</text>
</g>
<!-- section_1&#45;&gt;section_8 -->
<g id="edge8" class="edge">
<title>section_1&#45;&gt;section_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4652.1858,-1791.8296C4929.7472,-1780.8732 6013.1805,-1738.1061 6325.9998,-1725.758"/>
<polygon fill="#000000" stroke="#000000" points="6326.5041,-1729.2409 6336.3583,-1725.3491 6326.228,-1722.2463 6326.5041,-1729.2409"/>
</g>
<!-- section_9 -->
<g id="node10" class="node">
<title>section_9</title>
<ellipse fill="none" stroke="#000000" cx="8215" cy="-1722.4027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="8215" y="-1718.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 236&#45;258</text>
</g>
<!-- section_1&#45;&gt;section_9 -->
<g id="edge9" class="edge">
<title>section_1&#45;&gt;section_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4652.6768,-1793.0993C5094.3697,-1784.3336 7629.4831,-1734.0226 8129.3991,-1724.1015"/>
<polygon fill="#000000" stroke="#000000" points="8129.5027,-1727.6002 8139.4312,-1723.9024 8129.3637,-1720.6016 8129.5027,-1727.6002"/>
</g>
<!-- section_10 -->
<g id="node11" class="node">
<title>section_10</title>
<ellipse fill="none" stroke="#000000" cx="9506" cy="-1722.4027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="9506" y="-1718.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 259&#45;292</text>
</g>
<!-- section_1&#45;&gt;section_10 -->
<g id="edge10" class="edge">
<title>section_1&#45;&gt;section_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4652.6171,-1793.4571C5016.4272,-1788.2124 6822.8234,-1762.1471 8299,-1740.4027 8719.6897,-1734.2058 9222.8553,-1726.6584 9420.4166,-1723.6897"/>
<polygon fill="#000000" stroke="#000000" points="9420.4962,-1727.189 9430.4424,-1723.5391 9420.3909,-1720.1898 9420.4962,-1727.189"/>
</g>
<!-- section_11 -->
<g id="node12" class="node">
<title>section_11</title>
<ellipse fill="none" stroke="#000000" cx="11191" cy="-1722.4027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="11191" y="-1718.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 307&#45;352</text>
</g>
<!-- section_1&#45;&gt;section_11 -->
<g id="edge11" class="edge">
<title>section_1&#45;&gt;section_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4652.9297,-1793.7023C5085.9432,-1789.0996 7567.8505,-1762.6832 9590,-1740.4027 10169.2018,-1734.0209 10866.2674,-1726.1021 11105.5474,-1723.3769"/>
<polygon fill="#000000" stroke="#000000" points="11105.6136,-1726.8765 11115.5731,-1723.2627 11105.5338,-1719.877 11105.6136,-1726.8765"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="721,-1668.4027 649,-1668.4027 649,-1632.4027 721,-1632.4027 721,-1668.4027"/>
<text text-anchor="middle" x="685" y="-1646.9027" font-family="Inconsolata" font-size="14.00" fill="#000000">* loader</text>
</g>
<!-- header_2&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>header_2&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M715.8652,-1704.6049C711.1699,-1696.3596 705.4902,-1686.3855 700.2897,-1677.2528"/>
<polygon fill="#000000" stroke="#000000" points="703.2929,-1675.4537 695.303,-1668.4958 697.21,-1678.9176 703.2929,-1675.4537"/>
</g>
<!-- raw_13 -->
<g id="node14" class="node">
<title>raw_13</title>
<ellipse fill="none" stroke="#000000" cx="766" cy="-1650.4027" rx="27" ry="18"/>
<text text-anchor="middle" x="766" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_13 -->
<g id="edge13" class="edge">
<title>prose_3&#45;&gt;raw_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M879.4489,-1710.0254C856.5196,-1697.975 821.5601,-1679.6022 796.5117,-1666.438"/>
<polygon fill="#000000" stroke="#000000" points="797.923,-1663.2258 787.4427,-1661.6718 794.6664,-1669.4222 797.923,-1663.2258"/>
</g>
<!-- raw_15 -->
<g id="node16" class="node">
<title>raw_15</title>
<ellipse fill="none" stroke="#000000" cx="838" cy="-1650.4027" rx="27" ry="18"/>
<text text-anchor="middle" x="838" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_15 -->
<g id="edge15" class="edge">
<title>prose_4&#45;&gt;raw_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M996.7815,-1713.4398C966.1521,-1703.4512 915.9919,-1686.3323 874,-1668.4027 872.2167,-1667.6412 870.3969,-1666.8334 868.5697,-1665.9981"/>
<polygon fill="#000000" stroke="#000000" points="870.0375,-1662.8205 859.504,-1661.6812 867.028,-1669.1406 870.0375,-1662.8205"/>
</g>
<!-- prespace_16 -->
<g id="node17" class="node">
<title>prespace_16</title>
<ellipse fill="none" stroke="#000000" cx="929" cy="-1650.4027" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="929" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_4&#45;&gt;prespace_16 -->
<g id="edge16" class="edge">
<title>prose_4&#45;&gt;prespace_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1005.573,-1707.8324C992.0746,-1697.7086 973.8362,-1684.0299 958.5453,-1672.5617"/>
<polygon fill="#000000" stroke="#000000" points="960.5024,-1669.6545 950.4024,-1666.4545 956.3024,-1675.2545 960.5024,-1669.6545"/>
</g>
<!-- literal_17 -->
<g id="node18" class="node">
<title>literal_17</title>
<ellipse fill="none" stroke="#000000" cx="1025" cy="-1650.4027" rx="31.481" ry="18"/>
<text text-anchor="middle" x="1025" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_4&#45;&gt;literal_17 -->
<g id="edge17" class="edge">
<title>prose_4&#45;&gt;literal_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1025,-1704.234C1025,-1696.5336 1025,-1687.377 1025,-1678.8193"/>
<polygon fill="#000000" stroke="#000000" points="1028.5001,-1678.8159 1025,-1668.816 1021.5001,-1678.816 1028.5001,-1678.8159"/>
</g>
<!-- raw_18 -->
<g id="node19" class="node">
<title>raw_18</title>
<ellipse fill="none" stroke="#000000" cx="1237" cy="-1650.4027" rx="27" ry="18"/>
<text text-anchor="middle" x="1237" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_18 -->
<g id="edge18" class="edge">
<title>prose_4&#45;&gt;raw_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1052.7153,-1712.9899C1091.3907,-1699.8549 1161.4808,-1676.0507 1203.1816,-1661.8882"/>
<polygon fill="#000000" stroke="#000000" points="1204.5408,-1665.123 1212.8841,-1658.593 1202.2897,-1658.4948 1204.5408,-1665.123"/>
</g>
<!-- header_23 -->
<g id="node24" class="node">
<title>header_23</title>
<ellipse fill="none" stroke="#000000" cx="1813" cy="-1650.4027" rx="51.2759" ry="18"/>
<text text-anchor="middle" x="1813" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : imports</text>
</g>
<!-- section_5&#45;&gt;header_23 -->
<g id="edge23" class="edge">
<title>section_5&#45;&gt;header_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2436.608,-1715.9498C2305.8392,-1702.2048 2001.2531,-1670.1899 1872.3323,-1656.6391"/>
<polygon fill="#000000" stroke="#000000" points="1872.5628,-1653.1441 1862.2517,-1655.5795 1871.831,-1660.1058 1872.5628,-1653.1441"/>
</g>
<!-- prose_24 -->
<g id="node25" class="node">
<title>prose_24</title>
<ellipse fill="none" stroke="#000000" cx="2041" cy="-1650.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="2041" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_5&#45;&gt;prose_24 -->
<g id="edge24" class="edge">
<title>section_5&#45;&gt;prose_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2441.0447,-1713.4294C2347.6555,-1698.716 2164.1735,-1669.8086 2082.2285,-1656.8982"/>
<polygon fill="#000000" stroke="#000000" points="2082.7092,-1653.4308 2072.2864,-1655.3318 2081.6198,-1660.3456 2082.7092,-1653.4308"/>
</g>
<!-- codeblock_25 -->
<g id="node26" class="node">
<title>codeblock_25</title>
<ellipse fill="none" stroke="#000000" cx="2498" cy="-1650.4027" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2498" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 17&#45;24</text>
</g>
<!-- section_5&#45;&gt;codeblock_25 -->
<g id="edge25" class="edge">
<title>section_5&#45;&gt;codeblock_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2498,-1704.234C2498,-1696.5336 2498,-1687.377 2498,-1678.8193"/>
<polygon fill="#000000" stroke="#000000" points="2501.5001,-1678.8159 2498,-1668.816 2494.5001,-1678.816 2501.5001,-1678.8159"/>
</g>
<!-- codeblock_26 -->
<g id="node27" class="node">
<title>codeblock_26</title>
<ellipse fill="none" stroke="#000000" cx="2724" cy="-1650.4027" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="2724" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 26&#45;28</text>
</g>
<!-- section_5&#45;&gt;codeblock_26 -->
<g id="edge26" class="edge">
<title>section_5&#45;&gt;codeblock_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2541.0408,-1708.6906C2577.1686,-1697.1808 2629.0255,-1680.66 2668.3122,-1668.1439"/>
<polygon fill="#000000" stroke="#000000" points="2669.5466,-1671.4241 2678.0123,-1665.0536 2667.4217,-1664.7544 2669.5466,-1671.4241"/>
</g>
<!-- header_44 -->
<g id="node45" class="node">
<title>header_44</title>
<ellipse fill="none" stroke="#000000" cx="3142" cy="-1650.4027" rx="61.3032" ry="18"/>
<text text-anchor="middle" x="3142" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : SQL code</text>
</g>
<!-- section_6&#45;&gt;header_44 -->
<g id="edge44" class="edge">
<title>section_6&#45;&gt;header_44</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3704.5543,-1715.0022C3585.3719,-1701.3162 3331.6049,-1672.1755 3209.8849,-1658.1981"/>
<polygon fill="#000000" stroke="#000000" points="3209.9192,-1654.6791 3199.5851,-1657.0153 3209.1205,-1661.6334 3209.9192,-1654.6791"/>
</g>
<!-- prose_45 -->
<g id="node46" class="node">
<title>prose_45</title>
<ellipse fill="none" stroke="#000000" cx="3358" cy="-1650.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3358" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_45 -->
<g id="edge45" class="edge">
<title>section_6&#45;&gt;prose_45</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3710.5502,-1712.1633C3626.1629,-1697.3801 3472.3021,-1670.4264 3398.9759,-1657.5809"/>
<polygon fill="#000000" stroke="#000000" points="3399.2134,-1654.0693 3388.7595,-1655.7912 3398.0055,-1660.9643 3399.2134,-1654.0693"/>
</g>
<!-- section_46 -->
<g id="node47" class="node">
<title>section_46</title>
<ellipse fill="none" stroke="#000000" cx="3552" cy="-1650.4027" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="3552" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 36&#45;65</text>
</g>
<!-- section_6&#45;&gt;section_46 -->
<g id="edge46" class="edge">
<title>section_6&#45;&gt;section_46</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3725.8683,-1708.0917C3690.6951,-1696.4213 3640.91,-1679.9028 3603.6211,-1667.5304"/>
<polygon fill="#000000" stroke="#000000" points="3604.5367,-1664.1466 3593.9432,-1664.3193 3602.3322,-1670.7905 3604.5367,-1664.1466"/>
</g>
<!-- section_47 -->
<g id="node48" class="node">
<title>section_47</title>
<ellipse fill="none" stroke="#000000" cx="3999" cy="-1650.4027" rx="70.655" ry="18"/>
<text text-anchor="middle" x="3999" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 66&#45;101</text>
</g>
<!-- section_6&#45;&gt;section_47 -->
<g id="edge47" class="edge">
<title>section_6&#45;&gt;section_47</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3813.619,-1708.435C3851.0312,-1696.7233 3904.5909,-1679.9568 3944.5286,-1667.4546"/>
<polygon fill="#000000" stroke="#000000" points="3945.6153,-1670.782 3954.113,-1664.4543 3943.5241,-1664.1016 3945.6153,-1670.782"/>
</g>
<!-- section_48 -->
<g id="node49" class="node">
<title>section_48</title>
<ellipse fill="none" stroke="#000000" cx="4675" cy="-1650.4027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="4675" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 102&#45;163</text>
</g>
<!-- section_6&#45;&gt;section_48 -->
<g id="edge48" class="edge">
<title>section_6&#45;&gt;section_48</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3836.7267,-1717.0204C4000.2388,-1704.0261 4416.1229,-1670.9757 4593.1805,-1656.9049"/>
<polygon fill="#000000" stroke="#000000" points="4593.5271,-1660.3885 4603.2184,-1656.1072 4592.9725,-1653.4105 4593.5271,-1660.3885"/>
</g>
<!-- header_73 -->
<g id="node74" class="node">
<title>header_73</title>
<ellipse fill="none" stroke="#000000" cx="5142" cy="-1650.4027" rx="159.9496" ry="18"/>
<text text-anchor="middle" x="5142" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : SQL loader.load(conn, mod_name)</text>
</g>
<!-- section_7&#45;&gt;header_73 -->
<g id="edge73" class="edge">
<title>section_7&#45;&gt;header_73</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5222.1165,-1705.3397C5208.5302,-1696.0234 5191.4945,-1684.3418 5176.6293,-1674.1485"/>
<polygon fill="#000000" stroke="#000000" points="5178.3968,-1671.1167 5168.1702,-1668.3479 5174.4381,-1676.8898 5178.3968,-1671.1167"/>
</g>
<!-- prose_74 -->
<g id="node75" class="node">
<title>prose_74</title>
<ellipse fill="none" stroke="#000000" cx="5352" cy="-1650.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="5352" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_74 -->
<g id="edge74" class="edge">
<title>section_7&#45;&gt;prose_74</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5271.8835,-1705.3397C5287.2341,-1694.8136 5306.9883,-1681.2678 5323.04,-1670.261"/>
<polygon fill="#000000" stroke="#000000" points="5325.2573,-1672.9844 5331.5252,-1664.4426 5321.2985,-1667.2113 5325.2573,-1672.9844"/>
</g>
<!-- codeblock_75 -->
<g id="node76" class="node">
<title>codeblock_75</title>
<ellipse fill="none" stroke="#000000" cx="5508" cy="-1650.4027" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="5508" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 168&#45;181</text>
</g>
<!-- section_7&#45;&gt;codeblock_75 -->
<g id="edge75" class="edge">
<title>section_7&#45;&gt;codeblock_75</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5296.3989,-1708.7754C5338.8056,-1697.077 5400.1419,-1680.1567 5445.8703,-1667.5419"/>
<polygon fill="#000000" stroke="#000000" points="5446.9614,-1670.8717 5455.6706,-1664.8384 5445.0999,-1664.1238 5446.9614,-1670.8717"/>
</g>
<!-- header_80 -->
<g id="node81" class="node">
<title>header_80</title>
<ellipse fill="none" stroke="#000000" cx="6011" cy="-1650.4027" rx="110.9288" ry="18"/>
<text text-anchor="middle" x="6011" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Environment Variables</text>
</g>
<!-- section_8&#45;&gt;header_80 -->
<g id="edge80" class="edge">
<title>section_8&#45;&gt;header_80</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6350.6829,-1711.5456C6282.7997,-1699.3266 6172.0351,-1679.389 6095.5411,-1665.6201"/>
<polygon fill="#000000" stroke="#000000" points="6095.914,-1662.131 6085.4521,-1663.8041 6094.6739,-1669.0203 6095.914,-1662.131"/>
</g>
<!-- prose_81 -->
<g id="node82" class="node">
<title>prose_81</title>
<ellipse fill="none" stroke="#000000" cx="6411" cy="-1650.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="6411" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_8&#45;&gt;prose_81 -->
<g id="edge81" class="edge">
<title>section_8&#45;&gt;prose_81</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6411,-1704.234C6411,-1696.5336 6411,-1687.377 6411,-1678.8193"/>
<polygon fill="#000000" stroke="#000000" points="6414.5001,-1678.8159 6411,-1668.816 6407.5001,-1678.816 6414.5001,-1678.8159"/>
</g>
<!-- codeblock_82 -->
<g id="node83" class="node">
<title>codeblock_82</title>
<ellipse fill="none" stroke="#000000" cx="6851" cy="-1650.4027" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="6851" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 192&#45;217</text>
</g>
<!-- section_8&#45;&gt;codeblock_82 -->
<g id="edge82" class="edge">
<title>section_8&#45;&gt;codeblock_82</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6473.574,-1712.1633C6552.1965,-1699.2978 6687.15,-1677.2145 6772.5819,-1663.2347"/>
<polygon fill="#000000" stroke="#000000" points="6773.1866,-1666.6824 6782.4901,-1661.6134 6772.0561,-1659.7743 6773.1866,-1666.6824"/>
</g>
<!-- section_83 -->
<g id="node84" class="node">
<title>section_83</title>
<ellipse fill="none" stroke="#000000" cx="7693" cy="-1650.4027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="7693" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 220&#45;235</text>
</g>
<!-- section_8&#45;&gt;section_83 -->
<g id="edge83" class="edge">
<title>section_8&#45;&gt;section_83</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6484.5304,-1718.273C6707.2073,-1705.767 7373.3398,-1668.3555 7609.1397,-1655.1125"/>
<polygon fill="#000000" stroke="#000000" points="7609.5799,-1658.5934 7619.3678,-1654.538 7609.1873,-1651.6044 7609.5799,-1658.5934"/>
</g>
<!-- header_120 -->
<g id="node121" class="node">
<title>header_120</title>
<ellipse fill="none" stroke="#000000" cx="8132" cy="-1650.4027" rx="77.4383" ry="18"/>
<text text-anchor="middle" x="8132" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Loader.open()</text>
</g>
<!-- section_9&#45;&gt;header_120 -->
<g id="edge120" class="edge">
<title>section_9&#45;&gt;header_120</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8194.908,-1704.9735C8184.3831,-1695.8435 8171.3285,-1684.5189 8159.8441,-1674.5566"/>
<polygon fill="#000000" stroke="#000000" points="8162.042,-1671.8299 8152.1946,-1667.9209 8157.4551,-1677.1176 8162.042,-1671.8299"/>
</g>
<!-- prose_121 -->
<g id="node122" class="node">
<title>prose_121</title>
<ellipse fill="none" stroke="#000000" cx="8298" cy="-1650.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="8298" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_9&#45;&gt;prose_121 -->
<g id="edge121" class="edge">
<title>section_9&#45;&gt;prose_121</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8235.092,-1704.9735C8246.4265,-1695.1412 8260.6949,-1682.7637 8272.7764,-1672.2834"/>
<polygon fill="#000000" stroke="#000000" points="8275.0866,-1674.9128 8280.3471,-1665.7161 8270.4997,-1669.625 8275.0866,-1674.9128"/>
</g>
<!-- codeblock_122 -->
<g id="node123" class="node">
<title>codeblock_122</title>
<ellipse fill="none" stroke="#000000" cx="8585" cy="-1650.4027" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="8585" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 240&#45;256</text>
</g>
<!-- section_9&#45;&gt;codeblock_122 -->
<g id="edge122" class="edge">
<title>section_9&#45;&gt;codeblock_122</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8273.6276,-1710.9941C8338.0108,-1698.4654 8441.5096,-1678.3251 8511.3278,-1664.7389"/>
<polygon fill="#000000" stroke="#000000" points="8512.2285,-1668.1294 8521.3758,-1662.7836 8510.8914,-1661.2582 8512.2285,-1668.1294"/>
</g>
<!-- header_133 -->
<g id="node134" class="node">
<title>header_133</title>
<ellipse fill="none" stroke="#000000" cx="9190" cy="-1650.4027" rx="198.7451" ry="18"/>
<text text-anchor="middle" x="9190" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Loader.commitModule(conn, bytecode, deck)</text>
</g>
<!-- section_10&#45;&gt;header_133 -->
<g id="edge133" class="edge">
<title>section_10&#45;&gt;header_133</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9451.3178,-1709.9434C9402.3251,-1698.7806 9329.7313,-1682.2402 9273.4816,-1669.4238"/>
<polygon fill="#000000" stroke="#000000" points="9274.0628,-1665.9666 9263.5351,-1667.1575 9272.5077,-1672.7917 9274.0628,-1665.9666"/>
</g>
<!-- prose_134 -->
<g id="node135" class="node">
<title>prose_134</title>
<ellipse fill="none" stroke="#000000" cx="9460" cy="-1650.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9460" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_134 -->
<g id="edge134" class="edge">
<title>section_10&#45;&gt;prose_134</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9494.6292,-1704.6049C9489.1452,-1696.0212 9482.4642,-1685.564 9476.4388,-1676.133"/>
<polygon fill="#000000" stroke="#000000" points="9479.2566,-1674.0425 9470.9232,-1667.4999 9473.3577,-1677.8113 9479.2566,-1674.0425"/>
</g>
<!-- prose_135 -->
<g id="node136" class="node">
<title>prose_135</title>
<ellipse fill="none" stroke="#000000" cx="9553" cy="-1650.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="9553" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_10&#45;&gt;prose_135 -->
<g id="edge135" class="edge">
<title>section_10&#45;&gt;prose_135</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9517.618,-1704.6049C9523.2212,-1696.0212 9530.0475,-1685.564 9536.2039,-1676.133"/>
<polygon fill="#000000" stroke="#000000" points="9539.3039,-1677.7869 9541.8393,-1667.4999 9533.4422,-1673.9605 9539.3039,-1677.7869"/>
</g>
<!-- codeblock_136 -->
<g id="node137" class="node">
<title>codeblock_136</title>
<ellipse fill="none" stroke="#000000" cx="9859" cy="-1650.4027" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="9859" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 267&#45;290</text>
</g>
<!-- section_10&#45;&gt;codeblock_136 -->
<g id="edge136" class="edge">
<title>section_10&#45;&gt;codeblock_136</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9563.5012,-1710.6744C9624.4519,-1698.2425 9720.8416,-1678.5823 9786.8501,-1665.1188"/>
<polygon fill="#000000" stroke="#000000" points="9787.6678,-1668.5242 9796.7666,-1663.0962 9786.2688,-1661.6654 9787.6678,-1668.5242"/>
</g>
<!-- section_137 -->
<g id="node138" class="node">
<title>section_137</title>
<ellipse fill="none" stroke="#000000" cx="10518" cy="-1650.4027" rx="75.4916" ry="18"/>
<text text-anchor="middle" x="10518" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 293&#45;306</text>
</g>
<!-- section_10&#45;&gt;section_137 -->
<g id="edge137" class="edge">
<title>section_10&#45;&gt;section_137</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9578.3744,-1717.2535C9761.3705,-1704.234 10241.7235,-1670.0587 10435.346,-1656.2832"/>
<polygon fill="#000000" stroke="#000000" points="10435.7341,-1659.7645 10445.4605,-1655.5636 10435.2373,-1652.7822 10435.7341,-1659.7645"/>
</g>
<!-- header_157 -->
<g id="node158" class="node">
<title>header_157</title>
<ellipse fill="none" stroke="#000000" cx="10981" cy="-1650.4027" rx="159.5865" ry="18"/>
<text text-anchor="middle" x="10981" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Loader.commitCodex(conn, codex)</text>
</g>
<!-- section_11&#45;&gt;header_157 -->
<g id="edge157" class="edge">
<title>section_11&#45;&gt;header_157</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11147.7425,-1707.5715C11116.9254,-1697.0057 11075.1032,-1682.6666 11041.0538,-1670.9926"/>
<polygon fill="#000000" stroke="#000000" points="11041.8104,-1667.552 11031.2158,-1667.6195 11039.5401,-1674.1736 11041.8104,-1667.552"/>
</g>
<!-- prose_158 -->
<g id="node159" class="node">
<title>prose_158</title>
<ellipse fill="none" stroke="#000000" cx="11191" cy="-1650.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="11191" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_11&#45;&gt;prose_158 -->
<g id="edge158" class="edge">
<title>section_11&#45;&gt;prose_158</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11191,-1704.234C11191,-1696.5336 11191,-1687.377 11191,-1678.8193"/>
<polygon fill="#000000" stroke="#000000" points="11194.5001,-1678.8159 11191,-1668.816 11187.5001,-1678.816 11194.5001,-1678.8159"/>
</g>
<!-- codeblock_159 -->
<g id="node160" class="node">
<title>codeblock_159</title>
<ellipse fill="none" stroke="#000000" cx="11402" cy="-1650.4027" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11402" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 309&#45;347</text>
</g>
<!-- section_11&#45;&gt;codeblock_159 -->
<g id="edge159" class="edge">
<title>section_11&#45;&gt;codeblock_159</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11234.4635,-1707.5715C11267.104,-1696.4335 11312.0321,-1681.1026 11347.1462,-1669.1206"/>
<polygon fill="#000000" stroke="#000000" points="11348.4378,-1672.3781 11356.7716,-1665.8361 11346.1771,-1665.7531 11348.4378,-1672.3781"/>
</g>
<!-- codeblock_160 -->
<g id="node161" class="node">
<title>codeblock_160</title>
<ellipse fill="none" stroke="#000000" cx="11708" cy="-1650.4027" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="11708" y="-1646.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 350&#45;352</text>
</g>
<!-- section_11&#45;&gt;codeblock_160 -->
<g id="edge160" class="edge">
<title>section_11&#45;&gt;codeblock_160</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11256.2165,-1713.3203C11350.0041,-1700.259 11522.9358,-1676.1756 11625.4935,-1661.893"/>
<polygon fill="#000000" stroke="#000000" points="11626.0776,-1665.3455 11635.4992,-1660.4995 11625.112,-1658.4124 11626.0776,-1665.3455"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="436,-1343.4033 0,-1343.4033 0,-1271.6009 436,-1271.6009 436,-1343.4033"/>
<text text-anchor="middle" x="218" y="-1280.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">I&#39;m less than convinced that I&#39;ve given this the right name.</text>
</g>
<!-- raw_13&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>raw_13&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M745.1718,-1638.5074C740.3191,-1636.1579 735.0818,-1633.9449 730,-1632.4027 607.829,-1595.3259 556.0985,-1659.3119 445,-1596.4027 344.4819,-1539.4846 272.583,-1418.5248 239.1133,-1352.6117"/>
<polygon fill="#000000" stroke="#000000" points="242.0595,-1350.6778 234.4552,-1343.3004 235.7991,-1353.8097 242.0595,-1350.6778"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="806,-1327.4042 454,-1327.4042 454,-1287.6 806,-1287.6 806,-1327.4042"/>
<text text-anchor="middle" x="630" y="-1296.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">Among other things this will have a function for</text>
</g>
<!-- raw_15&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>raw_15&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M827.6852,-1633.3982C794.3438,-1578.4327 689.2191,-1405.1283 647.4033,-1336.1925"/>
<polygon fill="#000000" stroke="#000000" points="650.3449,-1334.2934 642.1661,-1327.5586 644.3599,-1337.9238 650.3449,-1334.2934"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="878,-1325.5021 824,-1325.5021 824,-1289.5021 878,-1289.5021 878,-1325.5021"/>
<text text-anchor="middle" x="851" y="-1304.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_16&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>prespace_16&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M911.9362,-1633.4666C902.988,-1623.5269 892.7241,-1610.2295 887,-1596.4027 849.8304,-1506.6187 848.1854,-1388.7511 849.6708,-1335.619"/>
<polygon fill="#000000" stroke="#000000" points="853.1699,-1335.7029 850.0118,-1325.5897 846.174,-1335.465 853.1699,-1335.7029"/>
</g>
<!-- leaf_21 -->
<g id="node22" class="node">
<title>leaf_21</title>
<polygon fill="none" stroke="#c0c0c0" points="1017.5,-1325.5021 896.5,-1325.5021 896.5,-1289.5021 1017.5,-1289.5021 1017.5,-1325.5021"/>
<text text-anchor="middle" x="957" y="-1304.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">package.loaders</text>
</g>
<!-- literal_17&#45;&gt;leaf_21 -->
<g id="edge21" class="edge">
<title>literal_17&#45;&gt;leaf_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1021.4398,-1632.4497C1010.3117,-1576.3348 976.1223,-1403.9295 962.5941,-1335.7114"/>
<polygon fill="#000000" stroke="#000000" points="965.9855,-1334.8193 960.607,-1325.6911 959.1192,-1336.1809 965.9855,-1334.8193"/>
</g>
<!-- leaf_22 -->
<g id="node23" class="node">
<title>leaf_22</title>
<polygon fill="none" stroke="#c0c0c0" points="1576.5,-1334.7026 1035.5,-1334.7026 1035.5,-1280.3016 1576.5,-1280.3016 1576.5,-1334.7026"/>
<text text-anchor="middle" x="1306" y="-1319.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">, but this</text>
<text text-anchor="middle" x="1306" y="-1304.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">file will contain everything needed to manipulate modules, including things</text>
<text text-anchor="middle" x="1306" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">needed only by the compiler.</text>
</g>
<!-- raw_18&#45;&gt;leaf_22 -->
<g id="edge22" class="edge">
<title>raw_18&#45;&gt;leaf_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1240.6126,-1632.4497C1251.4221,-1578.7308 1283.6766,-1418.4397 1298.4541,-1345.0021"/>
<polygon fill="#000000" stroke="#000000" points="1301.9614,-1345.3142 1300.5029,-1334.8202 1295.0989,-1343.9333 1301.9614,-1345.3142"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="1687.5,-1325.5021 1594.5,-1325.5021 1594.5,-1289.5021 1687.5,-1289.5021 1687.5,-1325.5021"/>
<text text-anchor="middle" x="1641" y="-1304.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** imports</text>
</g>
<!-- header_23&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>header_23&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1769.568,-1640.663C1744.6444,-1632.8318 1714.8491,-1619.2455 1697,-1596.4027 1635.807,-1518.0894 1635.2776,-1391.9751 1638.5513,-1335.9269"/>
<polygon fill="#000000" stroke="#000000" points="1642.0611,-1335.8988 1639.24,-1325.6864 1635.0768,-1335.429 1642.0611,-1335.8988"/>
</g>
<!-- raw_28 -->
<g id="node29" class="node">
<title>raw_28</title>
<ellipse fill="none" stroke="#000000" cx="1733" cy="-1307.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="1733" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_28 -->
<g id="edge28" class="edge">
<title>prose_24&#45;&gt;raw_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2009.4912,-1646.2416C1941.4065,-1636.9566 1785.3567,-1613.9817 1769,-1596.4027 1701.3972,-1523.7478 1716.3167,-1392.5958 1726.9408,-1335.4177"/>
<polygon fill="#000000" stroke="#000000" points="1730.4312,-1335.806 1728.9182,-1325.3197 1723.5617,-1334.4607 1730.4312,-1335.806"/>
</g>
<!-- prespace_29 -->
<g id="node30" class="node">
<title>prespace_29</title>
<ellipse fill="none" stroke="#000000" cx="1824" cy="-1307.5021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="1824" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_24&#45;&gt;prespace_29 -->
<g id="edge29" class="edge">
<title>prose_24&#45;&gt;prespace_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2010.7839,-1644.0727C1969.1723,-1634.7441 1897.3852,-1616.2517 1880,-1596.4027 1814.2225,-1521.3032 1816.2341,-1392.5277 1820.8715,-1335.7742"/>
<polygon fill="#000000" stroke="#000000" points="1824.3646,-1336.0078 1821.7834,-1325.7322 1817.3933,-1335.3747 1824.3646,-1336.0078"/>
</g>
<!-- literal_30 -->
<g id="node31" class="node">
<title>literal_30</title>
<ellipse fill="none" stroke="#000000" cx="1920" cy="-1307.5021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="1920" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_24&#45;&gt;literal_30 -->
<g id="edge30" class="edge">
<title>prose_24&#45;&gt;literal_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2014.7043,-1639.91C1996.2792,-1631.1248 1972.752,-1616.734 1960,-1596.4027 1907.9145,-1513.3596 1911.7307,-1390.6995 1916.6865,-1335.8316"/>
<polygon fill="#000000" stroke="#000000" points="1920.178,-1336.0891 1917.6766,-1325.7938 1913.2118,-1335.4019 1920.178,-1336.0891"/>
</g>
<!-- raw_31 -->
<g id="node32" class="node">
<title>raw_31</title>
<ellipse fill="none" stroke="#000000" cx="1996" cy="-1307.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="1996" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_31 -->
<g id="edge31" class="edge">
<title>prose_24&#45;&gt;raw_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2037.8144,-1632.4317C2036.0025,-1621.9413 2033.7525,-1608.4413 2032,-1596.4027 2018.0986,-1500.9102 2004.9092,-1387.1673 1999.1016,-1335.5075"/>
<polygon fill="#000000" stroke="#000000" points="2002.5672,-1335.0038 1997.9768,-1325.455 1995.6106,-1335.7823 2002.5672,-1335.0038"/>
</g>
<!-- prespace_32 -->
<g id="node33" class="node">
<title>prespace_32</title>
<ellipse fill="none" stroke="#000000" cx="2087" cy="-1307.5021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="2087" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_24&#45;&gt;prespace_32 -->
<g id="edge32" class="edge">
<title>prose_24&#45;&gt;prespace_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2043.4084,-1632.4497C2050.9362,-1576.3348 2074.0643,-1403.9295 2083.2157,-1335.7114"/>
<polygon fill="#000000" stroke="#000000" points="2086.6992,-1336.0677 2084.56,-1325.6911 2079.7614,-1335.1369 2086.6992,-1336.0677"/>
</g>
<!-- literal_33 -->
<g id="node34" class="node">
<title>literal_33</title>
<ellipse fill="none" stroke="#000000" cx="2183" cy="-1307.5021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="2183" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_24&#45;&gt;literal_33 -->
<g id="edge33" class="edge">
<title>prose_24&#45;&gt;literal_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2070.2838,-1642.7108C2093.5896,-1634.9895 2125.0184,-1620.6793 2142,-1596.4027 2198.3503,-1515.8453 2192.8278,-1391.4054 2186.857,-1335.9061"/>
<polygon fill="#000000" stroke="#000000" points="2190.3086,-1335.2867 2185.6751,-1325.7589 2183.3556,-1336.0967 2190.3086,-1335.2867"/>
</g>
<!-- raw_34 -->
<g id="node35" class="node">
<title>raw_34</title>
<ellipse fill="none" stroke="#000000" cx="2259" cy="-1307.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="2259" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_24&#45;&gt;raw_34 -->
<g id="edge34" class="edge">
<title>prose_24&#45;&gt;raw_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2072.2003,-1645.3456C2118.8762,-1637.1161 2203.4992,-1619.4065 2223,-1596.4027 2287.0198,-1520.8827 2274.1472,-1391.7956 2264.5694,-1335.3265"/>
<polygon fill="#000000" stroke="#000000" points="2267.99,-1334.5723 2262.78,-1325.347 2261.0999,-1335.8078 2267.99,-1334.5723"/>
</g>
<!-- leaf_42 -->
<g id="node43" class="node">
<title>leaf_42</title>
<polygon fill="none" stroke="#c0c0c0" points="2691.5,-1358.103 2304.5,-1358.103 2304.5,-1256.9012 2691.5,-1256.9012 2691.5,-1358.103"/>
<text text-anchor="middle" x="2498" y="-1343.1022" font-family="Inconsolata" font-size="14.00" fill="#000000">local sql = assert(sql, &quot;must have sql in bridge _G&quot;)</text>
<text text-anchor="middle" x="2498" y="-1327.7021" font-family="Inconsolata" font-size="14.00" fill="#000000">local Dir = require &quot;walk/directory&quot;</text>
<text text-anchor="middle" x="2498" y="-1296.3021" font-family="Inconsolata" font-size="14.00" fill="#000000">local sha = require &quot;compile/sha3&quot; . sha512</text>
<text text-anchor="middle" x="2498" y="-1264.9021" font-family="Inconsolata" font-size="14.00" fill="#000000">local status = require &quot;status&quot; ()</text>
</g>
<!-- codeblock_25&#45;&gt;leaf_42 -->
<g id="edge42" class="edge">
<title>codeblock_25&#45;&gt;leaf_42</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2498,-1631.9669C2498,-1583.0409 2498,-1448.2257 2498,-1368.6083"/>
<polygon fill="#000000" stroke="#000000" points="2501.5001,-1368.2308 2498,-1358.2309 2494.5001,-1368.2309 2501.5001,-1368.2308"/>
</g>
<!-- leaf_43 -->
<g id="node44" class="node">
<title>leaf_43</title>
<polygon fill="none" stroke="#c0c0c0" points="2844.5,-1325.5021 2709.5,-1325.5021 2709.5,-1289.5021 2844.5,-1289.5021 2844.5,-1325.5021"/>
<text text-anchor="middle" x="2777" y="-1304.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">local Loader = {}</text>
</g>
<!-- codeblock_26&#45;&gt;leaf_43 -->
<g id="edge43" class="edge">
<title>codeblock_26&#45;&gt;leaf_43</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2726.8495,-1631.9669C2735.6051,-1575.3195 2762.1569,-1403.5341 2772.6583,-1335.5921"/>
<polygon fill="#000000" stroke="#000000" points="2776.1321,-1336.0302 2774.2007,-1325.6129 2769.2142,-1334.9609 2776.1321,-1336.0302"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="1778.5,-572.6023 1237.5,-572.6023 1237.5,-516.7993 1778.5,-516.7993 1778.5,-572.6023"/>
<text text-anchor="middle" x="1508" y="-525.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">For now, I&#39;m going to use a copy of the sqlite bindings currently living in</text>
</g>
<!-- raw_28&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>raw_28&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1732.247,-1289.2873C1730.0056,-1243.2425 1721.836,-1118.7295 1696,-1018.6015 1652.4719,-849.9072 1564.7398,-660.468 1526.5105,-581.9106"/>
<polygon fill="#000000" stroke="#000000" points="1529.4214,-579.8958 1521.8843,-572.4497 1523.1329,-582.9707 1529.4214,-579.8958"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="1851,-562.7008 1797,-562.7008 1797,-526.7008 1851,-526.7008 1851,-562.7008"/>
</g>
<!-- prespace_29&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>prespace_29&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1824,-1289.3986C1824,-1188.6568 1824,-697.225 1824,-573.1801"/>
<polygon fill="#000000" stroke="#000000" points="1827.5001,-572.9735 1824,-562.9735 1820.5001,-572.9735 1827.5001,-572.9735"/>
</g>
<!-- leaf_37 -->
<g id="node38" class="node">
<title>leaf_37</title>
<polygon fill="none" stroke="#c0c0c0" points="1923,-562.7008 1869,-562.7008 1869,-526.7008 1923,-526.7008 1923,-562.7008"/>
<text text-anchor="middle" x="1896" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">femto</text>
</g>
<!-- literal_30&#45;&gt;leaf_37 -->
<g id="edge37" class="edge">
<title>literal_30&#45;&gt;leaf_37</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1919.4304,-1289.3986C1916.2608,-1188.6568 1900.7989,-697.225 1896.896,-573.1801"/>
<polygon fill="#000000" stroke="#000000" points="1900.3878,-572.8585 1896.5749,-562.9735 1893.3912,-573.0787 1900.3878,-572.8585"/>
</g>
<!-- leaf_38 -->
<g id="node39" class="node">
<title>leaf_38</title>
<polygon fill="none" stroke="#c0c0c0" points="2041,-562.7008 1941,-562.7008 1941,-526.7008 2041,-526.7008 2041,-562.7008"/>
<text text-anchor="middle" x="1991" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">. &#160;There&#39;s a</text>
</g>
<!-- raw_31&#45;&gt;leaf_38 -->
<g id="edge38" class="edge">
<title>raw_31&#45;&gt;leaf_38</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1995.8813,-1289.3986C1995.221,-1188.6568 1991.9998,-697.225 1991.1867,-573.1801"/>
<polygon fill="#000000" stroke="#000000" points="1994.6853,-572.9503 1991.1198,-562.9735 1987.6855,-572.9963 1994.6853,-572.9503"/>
</g>
<!-- leaf_39 -->
<g id="node40" class="node">
<title>leaf_39</title>
<polygon fill="none" stroke="#c0c0c0" points="2113,-562.7008 2059,-562.7008 2059,-526.7008 2113,-526.7008 2113,-562.7008"/>
<text text-anchor="middle" x="2086" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_32&#45;&gt;leaf_39 -->
<g id="edge39" class="edge">
<title>prespace_32&#45;&gt;leaf_39</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2086.9763,-1289.3986C2086.8442,-1188.6568 2086.2,-697.225 2086.0373,-573.1801"/>
<polygon fill="#000000" stroke="#000000" points="2089.5372,-572.9689 2086.024,-562.9735 2082.5372,-572.9781 2089.5372,-572.9689"/>
</g>
<!-- leaf_40 -->
<g id="node41" class="node">
<title>leaf_40</title>
<polygon fill="none" stroke="#c0c0c0" points="2196.5,-562.7008 2131.5,-562.7008 2131.5,-526.7008 2196.5,-526.7008 2196.5,-562.7008"/>
<text text-anchor="middle" x="2164" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">sqlayer</text>
</g>
<!-- literal_33&#45;&gt;leaf_40 -->
<g id="edge40" class="edge">
<title>literal_33&#45;&gt;leaf_40</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2182.5491,-1289.3986C2180.0398,-1188.6568 2167.7991,-697.225 2164.7094,-573.1801"/>
<polygon fill="#000000" stroke="#000000" points="2168.2032,-572.8832 2164.4551,-562.9735 2161.2053,-573.0576 2168.2032,-572.8832"/>
</g>
<!-- leaf_41 -->
<g id="node42" class="node">
<title>leaf_41</title>
<polygon fill="none" stroke="#c0c0c0" points="2721,-571.9013 2215,-571.9013 2215,-517.5003 2721,-517.5003 2721,-571.9013"/>
<text text-anchor="middle" x="2468" y="-556.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> as well but I don&#39;t want to copy&#45;paste generated</text>
<text text-anchor="middle" x="2468" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">code if I can avoid it; the whole point of this exercise is to get the</text>
<text text-anchor="middle" x="2468" y="-525.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">codebase to where I can reuse projects across modules.</text>
</g>
<!-- raw_34&#45;&gt;leaf_41 -->
<g id="edge41" class="edge">
<title>raw_34&#45;&gt;leaf_41</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2259.8382,-1289.3293C2262.2633,-1243.3816 2270.7319,-1119.0753 2295,-1018.6015 2335.6238,-850.4128 2416.5707,-659.5956 2451.4162,-581.2293"/>
<polygon fill="#000000" stroke="#000000" points="2454.7445,-582.3599 2455.6275,-571.8019 2448.3532,-579.5048 2454.7445,-582.3599"/>
</g>
<!-- leaf_49 -->
<g id="node50" class="node">
<title>leaf_49</title>
<polygon fill="none" stroke="#c0c0c0" points="3153,-1325.5021 3053,-1325.5021 3053,-1289.5021 3153,-1289.5021 3153,-1325.5021"/>
<text text-anchor="middle" x="3103" y="-1304.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** SQL code</text>
</g>
<!-- header_44&#45;&gt;leaf_49 -->
<g id="edge49" class="edge">
<title>header_44&#45;&gt;leaf_49</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3139.9032,-1631.9669C3133.4604,-1575.3195 3113.9223,-1403.5341 3106.1948,-1335.5921"/>
<polygon fill="#000000" stroke="#000000" points="3109.6676,-1335.1533 3105.0598,-1325.6129 3102.7124,-1335.9444 3109.6676,-1335.1533"/>
</g>
<!-- raw_50 -->
<g id="node51" class="node">
<title>raw_50</title>
<ellipse fill="none" stroke="#000000" cx="3198" cy="-1307.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="3198" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_45&#45;&gt;raw_50 -->
<g id="edge50" class="edge">
<title>prose_45&#45;&gt;raw_50</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3326.6139,-1645.6676C3297.7119,-1639.5479 3256.0751,-1625.9269 3234,-1596.4027 3175.1215,-1517.6562 3184.9377,-1391.767 3193.0462,-1335.852"/>
<polygon fill="#000000" stroke="#000000" points="3196.5564,-1336.0538 3194.6242,-1325.6367 3189.6385,-1334.9851 3196.5564,-1336.0538"/>
</g>
<!-- header_52 -->
<g id="node53" class="node">
<title>header_52</title>
<ellipse fill="none" stroke="#000000" cx="3340" cy="-1307.5021" rx="97.0962" ry="18"/>
<text text-anchor="middle" x="3340" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : SQL Loader.open()</text>
</g>
<!-- section_46&#45;&gt;header_52 -->
<g id="edge52" class="edge">
<title>section_46&#45;&gt;header_52</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3508.9236,-1636.6752C3487.8097,-1628.0428 3463.4525,-1614.9639 3447,-1596.4027 3377.84,-1518.3784 3351.964,-1391.6651 3343.5546,-1335.6547"/>
<polygon fill="#000000" stroke="#000000" points="3347.0172,-1335.1434 3342.1394,-1325.7383 3340.0874,-1336.1325 3347.0172,-1335.1434"/>
</g>
<!-- prose_53 -->
<g id="node54" class="node">
<title>prose_53</title>
<ellipse fill="none" stroke="#000000" cx="3488" cy="-1307.5021" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="3488" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_46&#45;&gt;prose_53 -->
<g id="edge53" class="edge">
<title>section_46&#45;&gt;prose_53</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3543.3326,-1632.2915C3538.7301,-1621.9843 3533.3484,-1608.7106 3530,-1596.4027 3504.5983,-1503.0312 3493.7249,-1388.2457 3489.838,-1335.9187"/>
<polygon fill="#000000" stroke="#000000" points="3493.3141,-1335.4567 3489.112,-1325.7309 3486.3318,-1335.9544 3493.3141,-1335.4567"/>
</g>
<!-- codeblock_54 -->
<g id="node55" class="node">
<title>codeblock_54</title>
<ellipse fill="none" stroke="#000000" cx="3616" cy="-1307.5021" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="3616" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 38&#45;63</text>
</g>
<!-- section_46&#45;&gt;codeblock_54 -->
<g id="edge54" class="edge">
<title>section_46&#45;&gt;codeblock_54</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3555.4409,-1631.9669C3566.0138,-1575.3195 3598.0763,-1403.5341 3610.7572,-1335.5921"/>
<polygon fill="#000000" stroke="#000000" points="3614.2255,-1336.0854 3612.6197,-1325.6129 3607.3443,-1334.801 3614.2255,-1336.0854"/>
</g>
<!-- header_59 -->
<g id="node60" class="node">
<title>header_59</title>
<ellipse fill="none" stroke="#000000" cx="3916" cy="-1307.5021" rx="115.6194" ry="18"/>
<text text-anchor="middle" x="3916" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : local create_code_table</text>
</g>
<!-- section_47&#45;&gt;header_59 -->
<g id="edge59" class="edge">
<title>section_47&#45;&gt;header_59</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3994.5376,-1631.9669C3980.8259,-1575.3195 3939.2448,-1403.5341 3922.7992,-1335.5921"/>
<polygon fill="#000000" stroke="#000000" points="3926.1382,-1334.5088 3920.3838,-1325.6129 3919.3347,-1336.1557 3926.1382,-1334.5088"/>
</g>
<!-- prose_60 -->
<g id="node61" class="node">
<title>prose_60</title>
<ellipse fill="none" stroke="#000000" cx="4082" cy="-1307.5021" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4082" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_47&#45;&gt;prose_60 -->
<g id="edge60" class="edge">
<title>section_47&#45;&gt;prose_60</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4016.3988,-1632.9522C4025.2176,-1623.0547 4035.2512,-1609.9616 4041,-1596.4027 4079.0176,-1506.735 4083.0569,-1388.8091 4082.7113,-1335.6406"/>
<polygon fill="#000000" stroke="#000000" points="4086.2106,-1335.5601 4082.5871,-1325.6042 4079.2112,-1335.6468 4086.2106,-1335.5601"/>
</g>
<!-- codeblock_61 -->
<g id="node62" class="node">
<title>codeblock_61</title>
<ellipse fill="none" stroke="#000000" cx="4249" cy="-1307.5021" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="4249" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 68&#45;99</text>
</g>
<!-- section_47&#45;&gt;codeblock_61 -->
<g id="edge61" class="edge">
<title>section_47&#45;&gt;codeblock_61</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4049.6233,-1637.8429C4074.3414,-1629.5404 4102.9876,-1616.4041 4123,-1596.4027 4198.6277,-1520.8164 4232.2134,-1392.2973 4243.8755,-1335.6924"/>
<polygon fill="#000000" stroke="#000000" points="4247.3494,-1336.1675 4245.8625,-1325.6776 4240.4832,-1334.8052 4247.3494,-1336.1675"/>
</g>
<!-- header_66 -->
<g id="node67" class="node">
<title>header_66</title>
<ellipse fill="none" stroke="#000000" cx="4566" cy="-1307.5021" rx="169.0775" ry="18"/>
<text text-anchor="middle" x="4566" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : SQL Loader.commitDeck(conn, deck)</text>
</g>
<!-- section_48&#45;&gt;header_66 -->
<g id="edge66" class="edge">
<title>section_48&#45;&gt;header_66</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4669.2932,-1632.4497C4651.4189,-1576.2194 4596.4263,-1403.2195 4574.8336,-1335.2916"/>
<polygon fill="#000000" stroke="#000000" points="4578.1469,-1334.1609 4571.7819,-1325.6911 4571.4758,-1336.2815 4578.1469,-1334.1609"/>
</g>
<!-- prose_67 -->
<g id="node68" class="node">
<title>prose_67</title>
<ellipse fill="none" stroke="#000000" cx="4785" cy="-1307.5021" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="4785" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_48&#45;&gt;prose_67 -->
<g id="edge67" class="edge">
<title>section_48&#45;&gt;prose_67</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4705.7072,-1633.7944C4719.6596,-1624.6324 4735.0211,-1611.9451 4744,-1596.4027 4792.9565,-1511.6593 4791.3723,-1390.2912 4787.6479,-1335.8371"/>
<polygon fill="#000000" stroke="#000000" points="4791.1152,-1335.2735 4786.8635,-1325.5692 4784.1355,-1335.8067 4791.1152,-1335.2735"/>
</g>
<!-- codeblock_68 -->
<g id="node69" class="node">
<title>codeblock_68</title>
<ellipse fill="none" stroke="#000000" cx="4923" cy="-1307.5021" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="4923" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 104&#45;161</text>
</g>
<!-- section_48&#45;&gt;codeblock_68 -->
<g id="edge68" class="edge">
<title>section_48&#45;&gt;codeblock_68</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4738.8977,-1640.7884C4768.8311,-1633.2766 4802.9,-1619.9579 4826,-1596.4027 4898.5618,-1522.4109 4916.8714,-1392.5134 4921.4692,-1335.5794"/>
<polygon fill="#000000" stroke="#000000" points="4924.9666,-1335.7418 4922.1982,-1325.515 4917.9848,-1335.236 4924.9666,-1335.7418"/>
</g>
<!-- leaf_51 -->
<g id="node52" class="node">
<title>leaf_51</title>
<polygon fill="none" stroke="#c0c0c0" points="3154.5,-580.602 2739.5,-580.602 2739.5,-508.7996 3154.5,-508.7996 3154.5,-580.602"/>
<text text-anchor="middle" x="2947" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">Everything we need to create and manipulate the database.</text>
</g>
<!-- raw_50&#45;&gt;leaf_51 -->
<g id="edge51" class="edge">
<title>raw_50&#45;&gt;leaf_51</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3197.6224,-1289.2087C3196.2631,-1242.9821 3190.0621,-1118.0823 3162,-1018.6015 3115.2959,-853.0341 3019.1236,-671.5864 2972.9097,-589.4789"/>
<polygon fill="#000000" stroke="#000000" points="2975.7642,-587.4163 2967.7948,-580.435 2969.6712,-590.8624 2975.7642,-587.4163"/>
</g>
<!-- leaf_55 -->
<g id="node56" class="node">
<title>leaf_55</title>
<polygon fill="none" stroke="#c0c0c0" points="3343,-562.7008 3173,-562.7008 3173,-526.7008 3343,-526.7008 3343,-562.7008"/>
<text text-anchor="middle" x="3258" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">**** SQL Loader.open()</text>
</g>
<!-- header_52&#45;&gt;leaf_55 -->
<g id="edge55" class="edge">
<title>header_52&#45;&gt;leaf_55</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3338.0539,-1289.3986C3327.2243,-1188.6568 3274.3961,-697.225 3261.0615,-573.1801"/>
<polygon fill="#000000" stroke="#000000" points="3264.5132,-572.5421 3259.9643,-562.9735 3257.5533,-573.2903 3264.5132,-572.5421"/>
</g>
<!-- raw_56 -->
<g id="node57" class="node">
<title>raw_56</title>
<ellipse fill="none" stroke="#000000" cx="3388" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="3388" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_53&#45;&gt;raw_56 -->
<g id="edge56" class="edge">
<title>prose_53&#45;&gt;raw_56</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3487.8642,-1289.3087C3486.9901,-1242.7976 3481.2817,-1116.3292 3446,-1018.6015 3439.6327,-1000.9646 3429.8145,-1000.4284 3424,-982.6015 3375.7265,-834.5996 3381.5411,-644.2757 3385.885,-573.1658"/>
<polygon fill="#000000" stroke="#000000" points="3389.4027,-573.0081 3386.5611,-562.8015 3382.4175,-572.5524 3389.4027,-573.0081"/>
</g>
<!-- leaf_58 -->
<g id="node59" class="node">
<title>leaf_58</title>
<polygon fill="none" stroke="#c0c0c0" points="3799,-733.9016 3433,-733.9016 3433,-355.5 3799,-355.5 3799,-733.9016"/>
<text text-anchor="middle" x="3616" y="-718.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_project_table = [[</text>
<text text-anchor="middle" x="3616" y="-703.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS project (</text>
<text text-anchor="middle" x="3616" y="-687.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="3616" y="-672.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;name STRING UNIQUE NOT NULL ON CONFLICT IGNORE,</text>
<text text-anchor="middle" x="3616" y="-657.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;repo STRING,</text>
<text text-anchor="middle" x="3616" y="-641.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;repo_type STRING DEFAULT &#39;git&#39;,</text>
<text text-anchor="middle" x="3616" y="-626.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;repo_alternates STRING,</text>
<text text-anchor="middle" x="3616" y="-610.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;home STRING,</text>
<text text-anchor="middle" x="3616" y="-595.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;website STRING</text>
<text text-anchor="middle" x="3616" y="-580.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="3616" y="-564.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="3616" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_version_table = [[</text>
<text text-anchor="middle" x="3616" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS version (</text>
<text text-anchor="middle" x="3616" y="-502.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;version_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="3616" y="-487.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;edition STRING DEFAULT &#39;SNAPSHOT&#39;,</text>
<text text-anchor="middle" x="3616" y="-471.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;major INTEGER DEFAULT 0,</text>
<text text-anchor="middle" x="3616" y="-456.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;minor INTEGER DEFAULT 0,</text>
<text text-anchor="middle" x="3616" y="-440.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;patch STRING DEFAULT &#39;0&#39;,</text>
<text text-anchor="middle" x="3616" y="-425.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project INTEGER,</text>
<text text-anchor="middle" x="3616" y="-410.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;FOREIGN KEY (project)</text>
<text text-anchor="middle" x="3616" y="-394.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;REFERENCES project (project_id)</text>
<text text-anchor="middle" x="3616" y="-379.2005" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="3616" y="-363.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
</g>
<!-- codeblock_54&#45;&gt;leaf_58 -->
<g id="edge58" class="edge">
<title>codeblock_54&#45;&gt;leaf_58</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3616,-1289.3986C3616,-1216.4957 3616,-938.994 3616,-744.1828"/>
<polygon fill="#000000" stroke="#000000" points="3619.5001,-744.0977 3616,-734.0977 3612.5001,-744.0978 3619.5001,-744.0977"/>
</g>
<!-- leaf_57 -->
<g id="node58" class="node">
<title>leaf_57</title>
<polygon fill="none" stroke="#c0c0c0" points="3415,-53.4 3361,-53.4 3361,-17.4 3415,-17.4 3415,-53.4"/>
</g>
<!-- raw_56&#45;&gt;leaf_57 -->
<g id="edge57" class="edge">
<title>raw_56&#45;&gt;leaf_57</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3388,-526.5745C3388,-450.468 3388,-156.4165 3388,-63.6239"/>
<polygon fill="#000000" stroke="#000000" points="3391.5001,-63.5743 3388,-53.5744 3384.5001,-63.5744 3391.5001,-63.5743"/>
</g>
<!-- leaf_62 -->
<g id="node63" class="node">
<title>leaf_62</title>
<polygon fill="none" stroke="#c0c0c0" points="4029,-562.7008 3817,-562.7008 3817,-526.7008 4029,-526.7008 4029,-562.7008"/>
<text text-anchor="middle" x="3923" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">**** local create_code_table</text>
</g>
<!-- header_59&#45;&gt;leaf_62 -->
<g id="edge62" class="edge">
<title>header_59&#45;&gt;leaf_62</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3916.1661,-1289.3986C3917.0906,-1188.6568 3921.6003,-697.225 3922.7387,-573.1801"/>
<polygon fill="#000000" stroke="#000000" points="3926.2403,-573.0052 3922.8323,-562.9735 3919.2406,-572.9409 3926.2403,-573.0052"/>
</g>
<!-- raw_63 -->
<g id="node64" class="node">
<title>raw_63</title>
<ellipse fill="none" stroke="#000000" cx="4074" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="4074" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_60&#45;&gt;raw_63 -->
<g id="edge63" class="edge">
<title>prose_60&#45;&gt;raw_63</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4081.8101,-1289.3986C4080.7536,-1188.6568 4075.5996,-697.225 4074.2987,-573.1801"/>
<polygon fill="#000000" stroke="#000000" points="4077.7964,-572.9362 4074.1916,-562.9735 4070.7968,-573.0097 4077.7964,-572.9362"/>
</g>
<!-- leaf_65 -->
<g id="node66" class="node">
<title>leaf_65</title>
<polygon fill="none" stroke="#c0c0c0" points="4471,-779.8019 4119,-779.8019 4119,-309.5997 4471,-309.5997 4471,-779.8019"/>
<text text-anchor="middle" x="4295" y="-764.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_code_table = [[</text>
<text text-anchor="middle" x="4295" y="-749.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS code (</text>
<text text-anchor="middle" x="4295" y="-734.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;code_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="4295" y="-718.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;hash TEXT UNIQUE ON CONFLICT IGNORE NOT NULL,</text>
<text text-anchor="middle" x="4295" y="-703.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;binary BLOB NOT NULL</text>
<text text-anchor="middle" x="4295" y="-687.8011" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="4295" y="-672.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="4295" y="-641.001" font-family="Inconsolata" font-size="14.00" fill="#000000">local create_module_table = [[</text>
<text text-anchor="middle" x="4295" y="-625.601" font-family="Inconsolata" font-size="14.00" fill="#000000">CREATE TABLE IF NOT EXISTS module (</text>
<text text-anchor="middle" x="4295" y="-610.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;module_id INTEGER PRIMARY KEY AUTOINCREMENT,</text>
<text text-anchor="middle" x="4295" y="-594.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;time DATETIME DEFAULT CURRENT_TIMESTAMP,</text>
<text text-anchor="middle" x="4295" y="-579.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;snapshot INTEGER DEFAULT 1,</text>
<text text-anchor="middle" x="4295" y="-564.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;name STRING NOT NULL,</text>
<text text-anchor="middle" x="4295" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;type STRING DEFAULT &#39;luaJIT&#45;2.1&#45;bytecode&#39;,</text>
<text text-anchor="middle" x="4295" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;branch STRING,</text>
<text text-anchor="middle" x="4295" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;vc_hash STRING,</text>
<text text-anchor="middle" x="4295" y="-502.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project INTEGER NOT NULL,</text>
<text text-anchor="middle" x="4295" y="-487.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;code INTEGER,</text>
<text text-anchor="middle" x="4295" y="-471.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;version INTEGER NOT NULL,</text>
<text text-anchor="middle" x="4295" y="-456.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;FOREIGN KEY (version)</text>
<text text-anchor="middle" x="4295" y="-440.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;REFERENCES version (version_id)</text>
<text text-anchor="middle" x="4295" y="-425.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; ON DELETE RESTRICT</text>
<text text-anchor="middle" x="4295" y="-410.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;FOREIGN KEY (project)</text>
<text text-anchor="middle" x="4295" y="-394.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;REFERENCES project (project_id)</text>
<text text-anchor="middle" x="4295" y="-379.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;ON DELETE RESTRICT</text>
<text text-anchor="middle" x="4295" y="-363.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;FOREIGN KEY (code)</text>
<text text-anchor="middle" x="4295" y="-348.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;REFERENCES code (code_id)</text>
<text text-anchor="middle" x="4295" y="-333.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">);</text>
<text text-anchor="middle" x="4295" y="-317.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
</g>
<!-- codeblock_61&#45;&gt;leaf_65 -->
<g id="edge65" class="edge">
<title>codeblock_61&#45;&gt;leaf_65</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4250.0917,-1289.3986C4254.1517,-1222.0731 4268.7342,-980.2568 4280.1943,-790.218"/>
<polygon fill="#000000" stroke="#000000" points="4283.698,-790.2607 4280.8064,-780.0681 4276.7107,-789.8392 4283.698,-790.2607"/>
</g>
<!-- leaf_64 -->
<g id="node65" class="node">
<title>leaf_64</title>
<polygon fill="none" stroke="#c0c0c0" points="4101,-53.4 4047,-53.4 4047,-17.4 4101,-17.4 4101,-53.4"/>
</g>
<!-- raw_63&#45;&gt;leaf_64 -->
<g id="edge64" class="edge">
<title>raw_63&#45;&gt;leaf_64</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4074,-526.5745C4074,-450.468 4074,-156.4165 4074,-63.6239"/>
<polygon fill="#000000" stroke="#000000" points="4077.5001,-63.5743 4074,-53.5744 4070.5001,-63.5744 4077.5001,-63.5743"/>
</g>
<!-- leaf_69 -->
<g id="node70" class="node">
<title>leaf_69</title>
<polygon fill="none" stroke="#c0c0c0" points="4771,-562.7008 4489,-562.7008 4489,-526.7008 4771,-526.7008 4771,-562.7008"/>
<text text-anchor="middle" x="4630" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">**** SQL Loader.commitDeck(conn, deck)</text>
</g>
<!-- header_66&#45;&gt;leaf_69 -->
<g id="edge69" class="edge">
<title>header_66&#45;&gt;leaf_69</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4567.5189,-1289.3986C4575.9713,-1188.6568 4617.203,-697.225 4627.6105,-573.1801"/>
<polygon fill="#000000" stroke="#000000" points="4631.1185,-573.2312 4628.4669,-562.9735 4624.143,-572.6458 4631.1185,-573.2312"/>
</g>
<!-- raw_70 -->
<g id="node71" class="node">
<title>raw_70</title>
<ellipse fill="none" stroke="#000000" cx="4816" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="4816" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_67&#45;&gt;raw_70 -->
<g id="edge70" class="edge">
<title>prose_67&#45;&gt;raw_70</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4785.7357,-1289.3986C4789.8298,-1188.6568 4809.8015,-697.225 4814.8426,-573.1801"/>
<polygon fill="#000000" stroke="#000000" points="4818.3484,-573.1074 4815.2574,-562.9735 4811.3541,-572.8231 4818.3484,-573.1074"/>
</g>
<!-- leaf_72 -->
<g id="node73" class="node">
<title>leaf_72</title>
<polygon fill="none" stroke="#c0c0c0" points="5248.5,-982.5023 4861.5,-982.5023 4861.5,-106.8993 5248.5,-106.8993 5248.5,-982.5023"/>
<text text-anchor="middle" x="5055" y="-967.4015" font-family="Inconsolata" font-size="14.00" fill="#000000">local new_project = [[</text>
<text text-anchor="middle" x="5055" y="-952.0015" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO project (name, repo, home, website)</text>
<text text-anchor="middle" x="5055" y="-936.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:name, :repo, :home, :website)</text>
<text text-anchor="middle" x="5055" y="-921.2014" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="5055" y="-889.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">local new_code = [[</text>
<text text-anchor="middle" x="5055" y="-874.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO code (hash, binary)</text>
<text text-anchor="middle" x="5055" y="-859.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:hash, :binary);</text>
<text text-anchor="middle" x="5055" y="-843.6013" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="5055" y="-812.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">local new_version_snapshot = [[</text>
<text text-anchor="middle" x="5055" y="-796.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO version (edition, project)</text>
<text text-anchor="middle" x="5055" y="-781.4012" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:edition, :project);</text>
<text text-anchor="middle" x="5055" y="-766.0012" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="5055" y="-734.6012" font-family="Inconsolata" font-size="14.00" fill="#000000">local add_module = [[</text>
<text text-anchor="middle" x="5055" y="-719.2011" font-family="Inconsolata" font-size="14.00" fill="#000000">INSERT INTO module (snapshot, version, name,</text>
<text text-anchor="middle" x="5055" y="-703.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;branch, vc_hash, project, code)</text>
<text text-anchor="middle" x="5055" y="-688.4011" font-family="Inconsolata" font-size="14.00" fill="#000000">VALUES (:snapshot, :version, :name, :branch,</text>
<text text-anchor="middle" x="5055" y="-673.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;:vc_hash, :project, :code);</text>
<text text-anchor="middle" x="5055" y="-657.601" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="5055" y="-626.201" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_snapshot_version = [[</text>
<text text-anchor="middle" x="5055" y="-610.8009" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (version.version_id AS REAL) FROM version</text>
<text text-anchor="middle" x="5055" y="-595.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE version.edition = &#39;SNAPSHOT&#39;;</text>
<text text-anchor="middle" x="5055" y="-580.0009" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="5055" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_project_id = [[</text>
<text text-anchor="middle" x="5055" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (project.project_id AS REAL) FROM project</text>
<text text-anchor="middle" x="5055" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE project.name = %s;</text>
<text text-anchor="middle" x="5055" y="-502.4007" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="5055" y="-471.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_code_id_by_hash = [[</text>
<text text-anchor="middle" x="5055" y="-455.6007" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (code.code_id AS REAL) FROM code</text>
<text text-anchor="middle" x="5055" y="-440.2007" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE code.hash = %s;</text>
<text text-anchor="middle" x="5055" y="-424.8006" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="5055" y="-393.4006" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_latest_module_code_id = [[</text>
<text text-anchor="middle" x="5055" y="-378.0006" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (module.code AS REAL) FROM module</text>
<text text-anchor="middle" x="5055" y="-362.6005" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE module.project = %d</text>
<text text-anchor="middle" x="5055" y="-347.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;AND module.name = %s</text>
<text text-anchor="middle" x="5055" y="-331.8005" font-family="Inconsolata" font-size="14.00" fill="#000000">ORDER BY module.time DESC LIMIT 1;</text>
<text text-anchor="middle" x="5055" y="-316.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="5055" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_all_module_ids = [[</text>
<text text-anchor="middle" x="5055" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT CAST (module.code AS REAL),</text>
<text text-anchor="middle" x="5055" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;CAST (module.project AS REAL)</text>
<text text-anchor="middle" x="5055" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">FROM module</text>
<text text-anchor="middle" x="5055" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE module.name = %s</text>
<text text-anchor="middle" x="5055" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000">ORDER BY module.time DESC;</text>
<text text-anchor="middle" x="5055" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="5055" y="-161.2002" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_latest_module_bytecode = [[</text>
<text text-anchor="middle" x="5055" y="-145.8002" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT code.binary FROM code</text>
<text text-anchor="middle" x="5055" y="-130.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE code.code_id = %d ;</text>
<text text-anchor="middle" x="5055" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
</g>
<!-- codeblock_68&#45;&gt;leaf_72 -->
<g id="edge72" class="edge">
<title>codeblock_68&#45;&gt;leaf_72</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4926.1327,-1289.3986C4933.8314,-1244.9098 4954.7149,-1124.228 4977.4854,-992.6418"/>
<polygon fill="#000000" stroke="#000000" points="4980.9418,-993.1939 4979.1983,-982.7435 4974.0444,-992.0002 4980.9418,-993.1939"/>
</g>
<!-- leaf_71 -->
<g id="node72" class="node">
<title>leaf_71</title>
<polygon fill="none" stroke="#c0c0c0" points="4843,-53.4 4789,-53.4 4789,-17.4 4843,-17.4 4843,-53.4"/>
</g>
<!-- raw_70&#45;&gt;leaf_71 -->
<g id="edge71" class="edge">
<title>raw_70&#45;&gt;leaf_71</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4816,-526.5745C4816,-450.468 4816,-156.4165 4816,-63.6239"/>
<polygon fill="#000000" stroke="#000000" points="4819.5001,-63.5743 4816,-53.5744 4812.5001,-63.5744 4819.5001,-63.5743"/>
</g>
<!-- leaf_76 -->
<g id="node77" class="node">
<title>leaf_76</title>
<polygon fill="none" stroke="#c0c0c0" points="5289.5,-1325.5021 5028.5,-1325.5021 5028.5,-1289.5021 5289.5,-1289.5021 5289.5,-1325.5021"/>
<text text-anchor="middle" x="5159" y="-1304.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** SQL loader.load(conn, mod_name)</text>
</g>
<!-- header_73&#45;&gt;leaf_76 -->
<g id="edge76" class="edge">
<title>header_73&#45;&gt;leaf_76</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5142.914,-1631.9669C5145.7166,-1575.436 5154.204,-1404.2405 5157.5865,-1336.0128"/>
<polygon fill="#000000" stroke="#000000" points="5161.1026,-1335.774 5158.1021,-1325.6129 5154.1112,-1335.4273 5161.1026,-1335.774"/>
</g>
<!-- raw_77 -->
<g id="node78" class="node">
<title>raw_77</title>
<ellipse fill="none" stroke="#000000" cx="5335" cy="-1307.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="5335" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_74&#45;&gt;raw_77 -->
<g id="edge77" class="edge">
<title>prose_74&#45;&gt;raw_77</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5351.086,-1631.9669C5348.2834,-1575.436 5339.796,-1404.2405 5336.4135,-1336.0128"/>
<polygon fill="#000000" stroke="#000000" points="5339.8888,-1335.4273 5335.8979,-1325.6129 5332.8974,-1335.774 5339.8888,-1335.4273"/>
</g>
<!-- leaf_79 -->
<g id="node80" class="node">
<title>leaf_79</title>
<polygon fill="none" stroke="#c0c0c0" points="5704,-1404.4029 5380,-1404.4029 5380,-1210.6013 5704,-1210.6013 5704,-1404.4029"/>
<text text-anchor="middle" x="5542" y="-1389.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_code_id_for_module_project = [[</text>
<text text-anchor="middle" x="5542" y="-1373.6022" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT</text>
<text text-anchor="middle" x="5542" y="-1358.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;CAST (module.code_id AS REAL) FROM module</text>
<text text-anchor="middle" x="5542" y="-1342.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE module.project_id = %d</text>
<text text-anchor="middle" x="5542" y="-1327.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;AND module.name = %s</text>
<text text-anchor="middle" x="5542" y="-1312.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">ORDER BY module.time DESC LIMIT 1;</text>
<text text-anchor="middle" x="5542" y="-1296.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
<text text-anchor="middle" x="5542" y="-1265.2021" font-family="Inconsolata" font-size="14.00" fill="#000000">local get_bytecode = [[</text>
<text text-anchor="middle" x="5542" y="-1249.802" font-family="Inconsolata" font-size="14.00" fill="#000000">SELECT code.binary FROM code</text>
<text text-anchor="middle" x="5542" y="-1234.402" font-family="Inconsolata" font-size="14.00" fill="#000000">WHERE code.code_id = %d ;</text>
<text text-anchor="middle" x="5542" y="-1219.002" font-family="Inconsolata" font-size="14.00" fill="#000000">]]</text>
</g>
<!-- codeblock_75&#45;&gt;leaf_79 -->
<g id="edge79" class="edge">
<title>codeblock_75&#45;&gt;leaf_79</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5509.828,-1631.9669C5513.8278,-1591.6279 5523.6168,-1492.9028 5531.3543,-1414.8674"/>
<polygon fill="#000000" stroke="#000000" points="5534.8795,-1414.7854 5532.3834,-1404.4888 5527.9137,-1414.0946 5534.8795,-1414.7854"/>
</g>
<!-- leaf_78 -->
<g id="node79" class="node">
<title>leaf_78</title>
<polygon fill="none" stroke="#c0c0c0" points="5577,-572.6023 5267,-572.6023 5267,-516.7993 5577,-516.7993 5577,-572.6023"/>
<text text-anchor="middle" x="5422" y="-525.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">This has been moved to the pylon preamble.</text>
</g>
<!-- raw_77&#45;&gt;leaf_78 -->
<g id="edge78" class="edge">
<title>raw_77&#45;&gt;leaf_78</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5337.0648,-1289.3986C5348.2749,-1191.1099 5401.9009,-720.9265 5417.645,-582.8844"/>
<polygon fill="#000000" stroke="#000000" points="5421.1412,-583.1165 5418.797,-572.7842 5414.1863,-582.3232 5421.1412,-583.1165"/>
</g>
<!-- leaf_84 -->
<g id="node85" class="node">
<title>leaf_84</title>
<polygon fill="none" stroke="#c0c0c0" points="5913.5,-1325.5021 5722.5,-1325.5021 5722.5,-1289.5021 5913.5,-1289.5021 5913.5,-1325.5021"/>
<text text-anchor="middle" x="5818" y="-1304.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Environment Variables</text>
</g>
<!-- header_80&#45;&gt;leaf_84 -->
<g id="edge84" class="edge">
<title>header_80&#45;&gt;leaf_84</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5971.2895,-1633.3675C5954.4538,-1624.4552 5935.8071,-1612.0949 5923,-1596.4027 5857.5174,-1516.1685 5830.9756,-1391.5617 5821.9655,-1335.9628"/>
<polygon fill="#000000" stroke="#000000" points="5825.3804,-1335.1432 5820.3909,-1325.7967 5818.4629,-1336.2147 5825.3804,-1335.1432"/>
</g>
<!-- raw_85 -->
<g id="node86" class="node">
<title>raw_85</title>
<ellipse fill="none" stroke="#000000" cx="5959" cy="-1307.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="5959" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_81&#45;&gt;raw_85 -->
<g id="edge85" class="edge">
<title>prose_81&#45;&gt;raw_85</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6378.8093,-1648.4664C6285.8749,-1642.5712 6022.0311,-1623.5723 5995,-1596.4027 5924.8598,-1525.9029 5941.2697,-1393.1176 5952.6219,-1335.4326"/>
<polygon fill="#000000" stroke="#000000" points="5956.0643,-1336.0689 5954.6607,-1325.5675 5949.2092,-1334.6521 5956.0643,-1336.0689"/>
</g>
<!-- link_86 -->
<g id="node87" class="node">
<title>link_86</title>
<ellipse fill="none" stroke="#000000" cx="6031" cy="-1307.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="6031" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">link</text>
</g>
<!-- prose_81&#45;&gt;link_86 -->
<g id="edge86" class="edge">
<title>prose_81&#45;&gt;link_86</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6378.9419,-1647.5593C6297.7012,-1640.052 6088.6364,-1618.7368 6067,-1596.4027 5997.8044,-1524.9756 6013.7069,-1392.6884 6024.7737,-1335.2836"/>
<polygon fill="#000000" stroke="#000000" points="6028.2069,-1335.9637 6026.7622,-1325.4679 6021.3463,-1334.5738 6028.2069,-1335.9637"/>
</g>
<!-- raw_87 -->
<g id="node88" class="node">
<title>raw_87</title>
<ellipse fill="none" stroke="#000000" cx="6103" cy="-1307.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="6103" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_81&#45;&gt;raw_87 -->
<g id="edge87" class="edge">
<title>prose_81&#45;&gt;raw_87</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6378.476,-1648.5864C6313.5068,-1644.2477 6171.1394,-1630.944 6139,-1596.4027 6071.3972,-1523.7478 6086.3167,-1392.5958 6096.9408,-1335.4177"/>
<polygon fill="#000000" stroke="#000000" points="6100.4312,-1335.806 6098.9182,-1325.3197 6093.5617,-1334.4607 6100.4312,-1335.806"/>
</g>
<!-- prespace_88 -->
<g id="node89" class="node">
<title>prespace_88</title>
<ellipse fill="none" stroke="#000000" cx="6194" cy="-1307.5021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6194" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_81&#45;&gt;prespace_88 -->
<g id="edge88" class="edge">
<title>prose_81&#45;&gt;prespace_88</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6380.7839,-1644.0727C6339.1723,-1634.7441 6267.3852,-1616.2517 6250,-1596.4027 6184.2225,-1521.3032 6186.2341,-1392.5277 6190.8715,-1335.7742"/>
<polygon fill="#000000" stroke="#000000" points="6194.3646,-1336.0078 6191.7834,-1325.7322 6187.3933,-1335.3747 6194.3646,-1336.0078"/>
</g>
<!-- literal_89 -->
<g id="node90" class="node">
<title>literal_89</title>
<ellipse fill="none" stroke="#000000" cx="6290" cy="-1307.5021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="6290" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_81&#45;&gt;literal_89 -->
<g id="edge89" class="edge">
<title>prose_81&#45;&gt;literal_89</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6384.7043,-1639.91C6366.2792,-1631.1248 6342.752,-1616.734 6330,-1596.4027 6277.9145,-1513.3596 6281.7307,-1390.6995 6286.6865,-1335.8316"/>
<polygon fill="#000000" stroke="#000000" points="6290.178,-1336.0891 6287.6766,-1325.7938 6283.2118,-1335.4019 6290.178,-1336.0891"/>
</g>
<!-- raw_90 -->
<g id="node91" class="node">
<title>raw_90</title>
<ellipse fill="none" stroke="#000000" cx="6366" cy="-1307.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="6366" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_81&#45;&gt;raw_90 -->
<g id="edge90" class="edge">
<title>prose_81&#45;&gt;raw_90</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6407.8144,-1632.4317C6406.0025,-1621.9413 6403.7525,-1608.4413 6402,-1596.4027 6388.0986,-1500.9102 6374.9092,-1387.1673 6369.1016,-1335.5075"/>
<polygon fill="#000000" stroke="#000000" points="6372.5672,-1335.0038 6367.9768,-1325.455 6365.6106,-1335.7823 6372.5672,-1335.0038"/>
</g>
<!-- prespace_91 -->
<g id="node92" class="node">
<title>prespace_91</title>
<ellipse fill="none" stroke="#000000" cx="6457" cy="-1307.5021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6457" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_81&#45;&gt;prespace_91 -->
<g id="edge91" class="edge">
<title>prose_81&#45;&gt;prespace_91</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6413.4084,-1632.4497C6420.9362,-1576.3348 6444.0643,-1403.9295 6453.2157,-1335.7114"/>
<polygon fill="#000000" stroke="#000000" points="6456.6992,-1336.0677 6454.56,-1325.6911 6449.7614,-1335.1369 6456.6992,-1336.0677"/>
</g>
<!-- literal_92 -->
<g id="node93" class="node">
<title>literal_92</title>
<ellipse fill="none" stroke="#000000" cx="6553" cy="-1307.5021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="6553" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_81&#45;&gt;literal_92 -->
<g id="edge92" class="edge">
<title>prose_81&#45;&gt;literal_92</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6440.2838,-1642.7108C6463.5896,-1634.9895 6495.0184,-1620.6793 6512,-1596.4027 6568.3503,-1515.8453 6562.8278,-1391.4054 6556.857,-1335.9061"/>
<polygon fill="#000000" stroke="#000000" points="6560.3086,-1335.2867 6555.6751,-1325.7589 6553.3556,-1336.0967 6560.3086,-1335.2867"/>
</g>
<!-- raw_93 -->
<g id="node94" class="node">
<title>raw_93</title>
<ellipse fill="none" stroke="#000000" cx="6629" cy="-1307.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="6629" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_81&#45;&gt;raw_93 -->
<g id="edge93" class="edge">
<title>prose_81&#45;&gt;raw_93</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6442.2003,-1645.3456C6488.8762,-1637.1161 6573.4992,-1619.4065 6593,-1596.4027 6657.0198,-1520.8827 6644.1472,-1391.7956 6634.5694,-1335.3265"/>
<polygon fill="#000000" stroke="#000000" points="6637.99,-1334.5723 6632.78,-1325.347 6631.0999,-1335.8078 6637.99,-1334.5723"/>
</g>
<!-- prespace_94 -->
<g id="node95" class="node">
<title>prespace_94</title>
<ellipse fill="none" stroke="#000000" cx="6720" cy="-1307.5021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="6720" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_81&#45;&gt;prespace_94 -->
<g id="edge94" class="edge">
<title>prose_81&#45;&gt;prespace_94</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6443.0958,-1647.9337C6504.3159,-1642.5507 6634.4099,-1627.653 6665,-1596.4027 6734.9578,-1524.9348 6730.0597,-1393.6989 6723.9002,-1335.997"/>
<polygon fill="#000000" stroke="#000000" points="6727.3452,-1335.3211 6722.7132,-1325.7925 6720.3921,-1336.13 6727.3452,-1335.3211"/>
</g>
<!-- literal_95 -->
<g id="node96" class="node">
<title>literal_95</title>
<ellipse fill="none" stroke="#000000" cx="6816" cy="-1307.5021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="6816" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_81&#45;&gt;literal_95 -->
<g id="edge95" class="edge">
<title>prose_81&#45;&gt;literal_95</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6443.0341,-1647.8282C6527.5467,-1640.7369 6751.6679,-1619.8822 6775,-1596.4027 6845.2573,-1525.7012 6831.738,-1393.0243 6821.7175,-1335.4002"/>
<polygon fill="#000000" stroke="#000000" points="6825.1566,-1334.7493 6819.9081,-1325.5458 6818.2716,-1336.0135 6825.1566,-1334.7493"/>
</g>
<!-- raw_96 -->
<g id="node97" class="node">
<title>raw_96</title>
<ellipse fill="none" stroke="#000000" cx="6892" cy="-1307.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="6892" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_81&#45;&gt;raw_96 -->
<g id="edge96" class="edge">
<title>prose_81&#45;&gt;raw_96</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6443.3295,-1648.746C6540.7812,-1643.445 6826.7875,-1625.5215 6856,-1596.4027 6926.4331,-1526.1955 6909.8659,-1393.2531 6898.4252,-1335.4796"/>
<polygon fill="#000000" stroke="#000000" points="6901.8332,-1334.677 6896.3707,-1325.5989 6894.9798,-1336.102 6901.8332,-1334.677"/>
</g>
<!-- leaf_112 -->
<g id="node113" class="node">
<title>leaf_112</title>
<polygon fill="none" stroke="#c0c0c0" points="7457,-1496.7029 6937,-1496.7029 6937,-1118.3013 7457,-1118.3013 7457,-1496.7029"/>
<text text-anchor="middle" x="7197" y="-1481.4025" font-family="Inconsolata" font-size="14.00" fill="#000000">local home_dir = os.getenv &quot;HOME&quot;</text>
<text text-anchor="middle" x="7197" y="-1466.0024" font-family="Inconsolata" font-size="14.00" fill="#000000">local bridge_modules = os.getenv &quot;BRIDGE_MODULES&quot;</text>
<text text-anchor="middle" x="7197" y="-1434.6024" font-family="Inconsolata" font-size="14.00" fill="#000000">if not bridge_modules then</text>
<text text-anchor="middle" x="7197" y="-1419.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local xdg_data_home = os.getenv &quot;XDG_DATA_HOME&quot;</text>
<text text-anchor="middle" x="7197" y="-1403.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if xdg_data_home then</text>
<text text-anchor="middle" x="7197" y="-1388.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(xdg_data_home .. &quot;/bridge/&quot;) : mkdir()</text>
<text text-anchor="middle" x="7197" y="-1373.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;bridge_modules = xdg_data_home .. &quot;/bridge/bridge.modules&quot;</text>
<text text-anchor="middle" x="7197" y="-1357.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="7197" y="-1342.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; build the whole shebang from scratch, just in case</text>
<text text-anchor="middle" x="7197" y="-1326.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; =mkdir= runs =exists= as the first command so this is</text>
<text text-anchor="middle" x="7197" y="-1311.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; sufficiently clear</text>
<text text-anchor="middle" x="7197" y="-1296.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(home_dir .. &quot;/.local&quot;) : mkdir()</text>
<text text-anchor="middle" x="7197" y="-1280.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(home_dir .. &quot;/.local/share&quot;) : mkdir()</text>
<text text-anchor="middle" x="7197" y="-1265.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;Dir(home_dir .. &quot;/.local/share/bridge/&quot;) : mkdir()</text>
<text text-anchor="middle" x="7197" y="-1249.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;bridge_modules = home_dir .. &quot;/.local/share/bridge/bridge.modules&quot;</text>
<text text-anchor="middle" x="7197" y="-1234.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#45;&#45; error out if we haven&#39;t made the directory</text>
<text text-anchor="middle" x="7197" y="-1219.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;local bridge_dir = Dir(home_dir .. &quot;/.local/share/bridge/&quot;)</text>
<text text-anchor="middle" x="7197" y="-1203.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not bridge_dir:exists() then</text>
<text text-anchor="middle" x="7197" y="-1188.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error (&quot;Could not create ~/.local/share/bridge/,&quot; ..</text>
<text text-anchor="middle" x="7197" y="-1172.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;consider defining $BRIDGE_MODULES&quot;)</text>
<text text-anchor="middle" x="7197" y="-1157.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="7197" y="-1142.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="7197" y="-1126.6018" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_82&#45;&gt;leaf_112 -->
<g id="edge112" class="edge">
<title>codeblock_82&#45;&gt;leaf_112</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6878.3983,-1633.2204C6893.5878,-1623.2037 6912.4834,-1609.9113 6928,-1596.4027 6960.5568,-1568.0591 6993.3772,-1536.1741 7024.3606,-1504.206"/>
<polygon fill="#000000" stroke="#000000" points="7026.9338,-1506.5797 7031.358,-1496.9528 7021.896,-1501.7196 7026.9338,-1506.5797"/>
</g>
<!-- header_113 -->
<g id="node114" class="node">
<title>header_113</title>
<ellipse fill="none" stroke="#000000" cx="7604" cy="-1307.5021" rx="129.115" ry="18"/>
<text text-anchor="middle" x="7604" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : _unwrapForeignKey(result)</text>
</g>
<!-- section_83&#45;&gt;header_113 -->
<g id="edge113" class="edge">
<title>section_83&#45;&gt;header_113</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7688.215,-1631.9669C7673.5121,-1575.3195 7628.9251,-1403.5341 7611.2908,-1335.5921"/>
<polygon fill="#000000" stroke="#000000" points="7614.6008,-1334.4129 7608.7007,-1325.6129 7607.8253,-1336.1715 7614.6008,-1334.4129"/>
</g>
<!-- prose_114 -->
<g id="node115" class="node">
<title>prose_114</title>
<ellipse fill="none" stroke="#000000" cx="7783" cy="-1307.5021" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="7783" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_83&#45;&gt;prose_114 -->
<g id="edge114" class="edge">
<title>section_83&#45;&gt;prose_114</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7713.8265,-1632.9969C7724.0004,-1623.3024 7735.4365,-1610.383 7742,-1596.4027 7783.3901,-1508.2409 7785.7364,-1389.559 7784.3386,-1335.9207"/>
<polygon fill="#000000" stroke="#000000" points="7787.8324,-1335.6726 7784.0079,-1325.7921 7780.8362,-1335.901 7787.8324,-1335.6726"/>
</g>
<!-- codeblock_115 -->
<g id="node116" class="node">
<title>codeblock_115</title>
<ellipse fill="none" stroke="#000000" cx="7921" cy="-1307.5021" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="7921" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 225&#45;233</text>
</g>
<!-- section_83&#45;&gt;codeblock_115 -->
<g id="edge115" class="edge">
<title>section_83&#45;&gt;codeblock_115</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7749.8666,-1638.4209C7775.538,-1630.3991 7804.4262,-1617.3352 7824,-1596.4027 7894.6127,-1520.8884 7913.9429,-1392.3313 7919.1376,-1335.7045"/>
<polygon fill="#000000" stroke="#000000" points="7922.6298,-1335.9427 7919.9758,-1325.6856 7915.6542,-1335.359 7922.6298,-1335.9427"/>
</g>
<!-- leaf_97 -->
<g id="node98" class="node">
<title>leaf_97</title>
<polygon fill="none" stroke="#c0c0c0" points="5723,-572.6023 5595,-572.6023 5595,-516.7993 5723,-516.7993 5723,-572.6023"/>
<text text-anchor="middle" x="5659" y="-525.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;Following the </text>
</g>
<!-- raw_85&#45;&gt;leaf_97 -->
<g id="edge97" class="edge">
<title>raw_85&#45;&gt;leaf_97</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5963.0435,-1289.6435C5973.2672,-1239.408 5994.4588,-1095.5341 5922,-1018.6015 5863.0728,-956.036 5792.0993,-1044.042 5732,-982.6015 5624.129,-872.3233 5640.3111,-666.8062 5652.5054,-582.3847"/>
<polygon fill="#000000" stroke="#000000" points="5655.9703,-582.8792 5654.0011,-572.469 5649.0486,-581.835 5655.9703,-582.8792"/>
</g>
<!-- anchortext_98 -->
<g id="node99" class="node">
<title>anchortext_98</title>
<ellipse fill="none" stroke="#000000" cx="5792" cy="-544.7008" rx="51.3018" ry="18"/>
<text text-anchor="middle" x="5792" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">anchortext</text>
</g>
<!-- link_86&#45;&gt;anchortext_98 -->
<g id="edge98" class="edge">
<title>link_86&#45;&gt;anchortext_98</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6034.952,-1289.5083C6044.7865,-1239.5352 6064.8112,-1097.5468 5995,-1018.6015 5951.5846,-969.5056 5895.7141,-1031.4317 5852,-982.6015 5745.6802,-863.8384 5772.399,-649.4829 5786.255,-572.869"/>
<polygon fill="#000000" stroke="#000000" points="5789.703,-573.4712 5788.1096,-562.9969 5782.8234,-572.1788 5789.703,-573.4712"/>
</g>
<!-- url_99 -->
<g id="node100" class="node">
<title>url_99</title>
<ellipse fill="none" stroke="#000000" cx="5888" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="5888" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">url</text>
</g>
<!-- link_86&#45;&gt;url_99 -->
<g id="edge99" class="edge">
<title>link_86&#45;&gt;url_99</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6034.1081,-1289.5616C6041.5065,-1240.9148 6055.3182,-1104.4001 5995,-1018.6015 5974.6522,-989.6582 5943.7364,-1011.9653 5924,-982.6015 5835.9897,-851.66 5866.6918,-646.465 5881.7332,-572.4691"/>
<polygon fill="#000000" stroke="#000000" points="5885.1908,-573.0343 5883.8228,-562.5282 5878.3405,-571.5943 5885.1908,-573.0343"/>
</g>
<!-- leaf_102 -->
<g id="node103" class="node">
<title>leaf_102</title>
<polygon fill="none" stroke="#c0c0c0" points="6033,-564.0014 5933,-564.0014 5933,-525.4002 6033,-525.4002 6033,-564.0014"/>
<text text-anchor="middle" x="5983" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">,</text>
<text text-anchor="middle" x="5983" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">we place the</text>
</g>
<!-- raw_87&#45;&gt;leaf_102 -->
<g id="edge102" class="edge">
<title>raw_87&#45;&gt;leaf_102</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6103.6921,-1289.1949C6104.8399,-1242.4169 6104.032,-1115.3737 6067,-1018.6015 6060.038,-1000.4085 6049.0524,-1000.7597 6042,-982.6015 5985.6005,-837.3877 5981.5535,-647.0035 5982.2908,-574.4908"/>
<polygon fill="#000000" stroke="#000000" points="5985.7934,-574.3262 5982.4357,-564.2775 5978.7941,-574.2268 5985.7934,-574.3262"/>
</g>
<!-- leaf_103 -->
<g id="node104" class="node">
<title>leaf_103</title>
<polygon fill="none" stroke="#c0c0c0" points="6105,-562.7008 6051,-562.7008 6051,-526.7008 6105,-526.7008 6105,-562.7008"/>
<text text-anchor="middle" x="6078" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_88&#45;&gt;leaf_103 -->
<g id="edge103" class="edge">
<title>prespace_88&#45;&gt;leaf_103</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6193.166,-1289.5044C6190.4679,-1242.9308 6179.6225,-1115.3411 6139,-1018.6015 6131.4581,-1000.6411 6120.5789,-1000.9366 6114,-982.6015 6061.3151,-835.7716 6069.8304,-644.0863 6075.3883,-572.9076"/>
<polygon fill="#000000" stroke="#000000" points="6078.8781,-573.1748 6076.2122,-562.9209 6071.9018,-572.5992 6078.8781,-573.1748"/>
</g>
<!-- leaf_104 -->
<g id="node105" class="node">
<title>leaf_104</title>
<polygon fill="none" stroke="#c0c0c0" points="6237,-562.7008 6123,-562.7008 6123,-526.7008 6237,-526.7008 6237,-562.7008"/>
<text text-anchor="middle" x="6180" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">bridge.modules</text>
</g>
<!-- literal_89&#45;&gt;leaf_104 -->
<g id="edge104" class="edge">
<title>literal_89&#45;&gt;leaf_104</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6287.4325,-1289.2464C6281.0095,-1243.6126 6263.7054,-1120.8941 6249,-1018.6015 6224.6934,-849.522 6194.9593,-646.5984 6184.165,-573.0562"/>
<polygon fill="#000000" stroke="#000000" points="6187.5711,-572.1608 6182.6556,-562.7753 6180.6454,-573.1776 6187.5711,-572.1608"/>
</g>
<!-- leaf_105 -->
<g id="node106" class="node">
<title>leaf_105</title>
<polygon fill="none" stroke="#c0c0c0" points="6579,-564.0014 6255,-564.0014 6255,-525.4002 6579,-525.4002 6579,-564.0014"/>
<text text-anchor="middle" x="6417" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> database in a place defined first by a user</text>
<text text-anchor="middle" x="6417" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">environment variable, then by</text>
</g>
<!-- raw_90&#45;&gt;leaf_105 -->
<g id="edge105" class="edge">
<title>raw_90&#45;&gt;leaf_105</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6367.2104,-1289.3986C6373.9306,-1188.8843 6406.6542,-699.4424 6415.0393,-574.0261"/>
<polygon fill="#000000" stroke="#000000" points="6418.5343,-574.2176 6415.7093,-564.0063 6411.5499,-573.7506 6418.5343,-574.2176"/>
</g>
<!-- leaf_106 -->
<g id="node107" class="node">
<title>leaf_106</title>
<polygon fill="none" stroke="#c0c0c0" points="6651,-562.7008 6597,-562.7008 6597,-526.7008 6651,-526.7008 6651,-562.7008"/>
<text text-anchor="middle" x="6624" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_91&#45;&gt;leaf_106 -->
<g id="edge106" class="edge">
<title>prespace_91&#45;&gt;leaf_106</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6455.2933,-1289.3592C6451.6643,-1240.2027 6448.223,-1102.5205 6513,-1018.6015 6535.5928,-989.3325 6567.0418,-1013.0624 6588,-982.6015 6677.2227,-852.9241 6645.998,-647.7835 6630.5307,-573.0913"/>
<polygon fill="#000000" stroke="#000000" points="6633.8953,-572.0878 6628.3792,-563.0422 6627.0504,-573.5534 6633.8953,-572.0878"/>
</g>
<!-- leaf_107 -->
<g id="node108" class="node">
<title>leaf_107</title>
<polygon fill="none" stroke="#c0c0c0" points="6776.5,-562.7008 6669.5,-562.7008 6669.5,-526.7008 6776.5,-526.7008 6776.5,-562.7008"/>
<text text-anchor="middle" x="6723" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">XDG_DATA_HOME</text>
</g>
<!-- literal_92&#45;&gt;leaf_107 -->
<g id="edge107" class="edge">
<title>literal_92&#45;&gt;leaf_107</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6550.258,-1289.2589C6543.9381,-1240.4329 6533.1563,-1104.6522 6593,-1018.6015 6612.3005,-990.8489 6640.626,-1010.3028 6660,-982.6015 6750.8365,-852.722 6736.1668,-647.7051 6727.0601,-573.0685"/>
<polygon fill="#000000" stroke="#000000" points="6730.5159,-572.4995 6725.7701,-563.0271 6723.5729,-573.3916 6730.5159,-572.4995"/>
</g>
<!-- leaf_108 -->
<g id="node109" class="node">
<title>leaf_108</title>
<polygon fill="none" stroke="#c0c0c0" points="7119,-564.0014 6795,-564.0014 6795,-525.4002 7119,-525.4002 7119,-564.0014"/>
<text text-anchor="middle" x="6957" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">, and if neither is defined,</text>
<text text-anchor="middle" x="6957" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">attempt to put it in the default location of</text>
</g>
<!-- raw_93&#45;&gt;leaf_108 -->
<g id="edge108" class="edge">
<title>raw_93&#45;&gt;leaf_108</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6625.2325,-1289.6678C6615.8767,-1240.1085 6596.9759,-1099.0918 6665,-1018.6015 6700.9415,-976.0733 6744.0311,-1020.3108 6785,-982.6015 6909.2648,-868.2237 6945.0018,-652.9284 6954.1508,-574.3603"/>
<polygon fill="#000000" stroke="#000000" points="6957.6533,-574.5299 6955.2717,-564.2062 6950.6955,-573.7618 6957.6533,-574.5299"/>
</g>
<!-- leaf_109 -->
<g id="node110" class="node">
<title>leaf_109</title>
<polygon fill="none" stroke="#c0c0c0" points="7191,-562.7008 7137,-562.7008 7137,-526.7008 7191,-526.7008 7191,-562.7008"/>
<text text-anchor="middle" x="7164" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_94&#45;&gt;leaf_109 -->
<g id="edge109" class="edge">
<title>prespace_94&#45;&gt;leaf_109</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6717.0527,-1289.5179C6709.7985,-1238.3182 6697.0043,-1090.8223 6776,-1018.6015 6834.0328,-965.5458 7072.9558,-1038.7518 7128,-982.6015 7239.1817,-869.1858 7193.3263,-650.5954 7172.3296,-572.9305"/>
<polygon fill="#000000" stroke="#000000" points="7175.6009,-571.6301 7169.5507,-562.9326 7168.8565,-573.5046 7175.6009,-571.6301"/>
</g>
<!-- leaf_110 -->
<g id="node111" class="node">
<title>leaf_110</title>
<polygon fill="none" stroke="#c0c0c0" points="7316.5,-562.7008 7209.5,-562.7008 7209.5,-526.7008 7316.5,-526.7008 7316.5,-562.7008"/>
<text text-anchor="middle" x="7263" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">XDG_DATA_HOME</text>
</g>
<!-- literal_95&#45;&gt;leaf_110 -->
<g id="edge110" class="edge">
<title>literal_95&#45;&gt;leaf_110</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6811.8579,-1289.3039C6801.4085,-1238.1748 6779.9333,-1092.1757 6856,-1018.6015 6966.4944,-911.7277 7089.2225,-1089.1818 7200,-982.6015 7315.2412,-871.7267 7284.7017,-651.5442 7269.2823,-573.1962"/>
<polygon fill="#000000" stroke="#000000" points="7272.6525,-572.2066 7267.2236,-563.1084 7265.7939,-573.6063 7272.6525,-572.2066"/>
</g>
<!-- leaf_111 -->
<g id="node112" class="node">
<title>leaf_111</title>
<polygon fill="none" stroke="#c0c0c0" points="7463,-564.0014 7335,-564.0014 7335,-525.4002 7463,-525.4002 7463,-564.0014"/>
<text text-anchor="middle" x="7399" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000">, creating it if</text>
<text text-anchor="middle" x="7399" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000">necessary.</text>
</g>
<!-- raw_96&#45;&gt;leaf_111 -->
<g id="edge111" class="edge">
<title>raw_96&#45;&gt;leaf_111</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6887.5974,-1289.6553C6876.2371,-1238.8227 6851.8793,-1092.2111 6928,-1018.6015 6991.68,-957.0222 7259.9977,-1042.7835 7325,-982.6015 7442.2569,-874.04 7418.1574,-654.2492 7404.7275,-574.4796"/>
<polygon fill="#000000" stroke="#000000" points="7408.0956,-573.4233 7402.9191,-564.1792 7401.2011,-574.6338 7408.0956,-573.4233"/>
</g>
<!-- leaf_100 -->
<g id="node101" class="node">
<title>leaf_100</title>
<polygon fill="none" stroke="#c0c0c0" points="5719,-53.4 5619,-53.4 5619,-17.4 5719,-17.4 5719,-53.4"/>
<text text-anchor="middle" x="5669" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">XDG Standard</text>
</g>
<!-- anchortext_98&#45;&gt;leaf_100 -->
<g id="edge100" class="edge">
<title>anchortext_98&#45;&gt;leaf_100</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5793.1412,-526.5771C5796.3086,-464.6743 5800.8712,-257.139 5732,-106.8001 5723.9999,-89.3366 5710.2832,-73.0167 5697.6874,-60.3999"/>
<polygon fill="#000000" stroke="#000000" points="5700.0789,-57.8437 5690.4524,-53.4185 5695.2182,-62.881 5700.0789,-57.8437"/>
</g>
<!-- leaf_101 -->
<g id="node102" class="node">
<title>leaf_101</title>
<polygon fill="none" stroke="#c0c0c0" points="6285,-53.4 5737,-53.4 5737,-17.4 6285,-17.4 6285,-53.4"/>
<text text-anchor="middle" x="6011" y="-31.9" font-family="Inconsolata" font-size="14.00" fill="#000000">https://specifications.freedesktop.org/basedir&#45;spec/basedir&#45;spec&#45;latest.html</text>
</g>
<!-- url_99&#45;&gt;leaf_101 -->
<g id="edge101" class="edge">
<title>url_99&#45;&gt;leaf_101</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5884.7595,-526.6574C5874.4667,-464.1521 5847.5058,-252.734 5924,-106.8001 5934.1195,-87.4942 5951.9399,-71.4559 5968.828,-59.5033"/>
<polygon fill="#000000" stroke="#000000" points="5971.1989,-62.1257 5977.5288,-53.6296 5967.2822,-56.3239 5971.1989,-62.1257"/>
</g>
<!-- leaf_116 -->
<g id="node117" class="node">
<title>leaf_116</title>
<polygon fill="none" stroke="#c0c0c0" points="7707,-562.7008 7481,-562.7008 7481,-526.7008 7707,-526.7008 7707,-562.7008"/>
<text text-anchor="middle" x="7594" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">**** _unwrapForeignKey(result)</text>
</g>
<!-- header_113&#45;&gt;leaf_116 -->
<g id="edge116" class="edge">
<title>header_113&#45;&gt;leaf_116</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7603.7627,-1289.3986C7602.442,-1188.6568 7595.9995,-697.225 7594.3734,-573.1801"/>
<polygon fill="#000000" stroke="#000000" points="7597.8704,-572.9267 7594.2395,-562.9735 7590.871,-573.0186 7597.8704,-572.9267"/>
</g>
<!-- raw_117 -->
<g id="node118" class="node">
<title>raw_117</title>
<ellipse fill="none" stroke="#000000" cx="7752" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="7752" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_114&#45;&gt;raw_117 -->
<g id="edge117" class="edge">
<title>prose_114&#45;&gt;raw_117</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7782.2643,-1289.3986C7778.1702,-1188.6568 7758.1985,-697.225 7753.1574,-573.1801"/>
<polygon fill="#000000" stroke="#000000" points="7756.6459,-572.8231 7752.7426,-562.9735 7749.6516,-573.1074 7756.6459,-572.8231"/>
</g>
<!-- leaf_119 -->
<g id="node120" class="node">
<title>leaf_119</title>
<polygon fill="none" stroke="#c0c0c0" points="8149,-602.5012 7797,-602.5012 7797,-486.9004 8149,-486.9004 8149,-602.5012"/>
<text text-anchor="middle" x="7973" y="-587.4009" font-family="Inconsolata" font-size="14.00" fill="#000000">local function _unwrapForeignKey(result)</text>
<text text-anchor="middle" x="7973" y="-572.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if result and result[1] and result[1][1] then</text>
<text text-anchor="middle" x="7973" y="-556.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return result[1][1]</text>
<text text-anchor="middle" x="7973" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="7973" y="-525.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;return nil</text>
<text text-anchor="middle" x="7973" y="-510.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="7973" y="-495.0007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_115&#45;&gt;leaf_119 -->
<g id="edge119" class="edge">
<title>codeblock_115&#45;&gt;leaf_119</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7922.2341,-1289.3986C7928.5123,-1197.3024 7957.0486,-778.6957 7968.3608,-612.7544"/>
<polygon fill="#000000" stroke="#000000" points="7971.86,-612.8838 7969.0483,-602.6689 7964.8762,-612.4077 7971.86,-612.8838"/>
</g>
<!-- leaf_118 -->
<g id="node119" class="node">
<title>leaf_118</title>
<polygon fill="none" stroke="#c0c0c0" points="8029.5,-70.7004 7474.5,-70.7004 7474.5,-.0997 8029.5,-.0997 8029.5,-70.7004"/>
<text text-anchor="middle" x="7752" y="-23.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">Just peeling off layers here. &#160;I realize there are more sophisticated ways to</text>
<text text-anchor="middle" x="7752" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">do almost everything but for now this will get us where we&#39;re going.</text>
</g>
<!-- raw_117&#45;&gt;leaf_118 -->
<g id="edge118" class="edge">
<title>raw_117&#45;&gt;leaf_118</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7752,-526.5745C7752,-454.7204 7752,-188.5957 7752,-80.9897"/>
<polygon fill="#000000" stroke="#000000" points="7755.5001,-80.7803 7752,-70.7804 7748.5001,-80.7804 7755.5001,-80.7803"/>
</g>
<!-- leaf_123 -->
<g id="node124" class="node">
<title>leaf_123</title>
<polygon fill="none" stroke="#c0c0c0" points="8161.5,-1325.5021 8026.5,-1325.5021 8026.5,-1289.5021 8161.5,-1289.5021 8161.5,-1325.5021"/>
<text text-anchor="middle" x="8094" y="-1304.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Loader.open()</text>
</g>
<!-- header_120&#45;&gt;leaf_123 -->
<g id="edge123" class="edge">
<title>header_120&#45;&gt;leaf_123</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8129.957,-1631.9669C8123.6793,-1575.3195 8104.6422,-1403.5341 8097.1129,-1335.5921"/>
<polygon fill="#000000" stroke="#000000" points="8100.5873,-1335.1665 8096.007,-1325.6129 8093.6299,-1335.9376 8100.5873,-1335.1665"/>
</g>
<!-- raw_124 -->
<g id="node125" class="node">
<title>raw_124</title>
<ellipse fill="none" stroke="#000000" cx="8207" cy="-1307.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="8207" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_121&#45;&gt;raw_124 -->
<g id="edge124" class="edge">
<title>prose_121&#45;&gt;raw_124</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8277.848,-1636.251C8265.6455,-1626.5177 8250.9489,-1612.4759 8243,-1596.4027 8199.8185,-1509.0865 8201.2503,-1389.5054 8204.5964,-1335.7247"/>
<polygon fill="#000000" stroke="#000000" points="8208.0997,-1335.7968 8205.3012,-1325.5782 8201.1165,-1335.3116 8208.0997,-1335.7968"/>
</g>
<!-- prespace_125 -->
<g id="node126" class="node">
<title>prespace_125</title>
<ellipse fill="none" stroke="#000000" cx="8298" cy="-1307.5021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="8298" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_121&#45;&gt;prespace_125 -->
<g id="edge125" class="edge">
<title>prose_121&#45;&gt;prespace_125</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8298,-1631.9669C8298,-1575.436 8298,-1404.2405 8298,-1336.0128"/>
<polygon fill="#000000" stroke="#000000" points="8301.5001,-1335.6129 8298,-1325.6129 8294.5001,-1335.613 8301.5001,-1335.6129"/>
</g>
<!-- literal_126 -->
<g id="node127" class="node">
<title>literal_126</title>
<ellipse fill="none" stroke="#000000" cx="8394" cy="-1307.5021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="8394" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_121&#45;&gt;literal_126 -->
<g id="edge126" class="edge">
<title>prose_121&#45;&gt;literal_126</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8318.0591,-1636.2045C8330.2245,-1626.4528 8344.9148,-1612.4077 8353,-1596.4027 8397.022,-1509.2596 8397.9989,-1389.5909 8395.7922,-1335.7564"/>
<polygon fill="#000000" stroke="#000000" points="8399.2802,-1335.4197 8395.3039,-1325.5994 8392.2883,-1335.756 8399.2802,-1335.4197"/>
</g>
<!-- raw_127 -->
<g id="node128" class="node">
<title>raw_127</title>
<ellipse fill="none" stroke="#000000" cx="8470" cy="-1307.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="8470" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_121&#45;&gt;raw_127 -->
<g id="edge127" class="edge">
<title>prose_121&#45;&gt;raw_127</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8329.947,-1646.9782C8361.6354,-1641.7717 8408.9748,-1628.7541 8434,-1596.4027 8494.4305,-1518.281 8483.582,-1391.097 8475.0609,-1335.2663"/>
<polygon fill="#000000" stroke="#000000" points="8478.5156,-1334.7048 8473.462,-1325.3929 8471.6056,-1335.8238 8478.5156,-1334.7048"/>
</g>
<!-- leaf_132 -->
<g id="node133" class="node">
<title>leaf_132</title>
<polygon fill="none" stroke="#c0c0c0" points="8951,-1427.0026 8515,-1427.0026 8515,-1188.0016 8951,-1188.0016 8951,-1427.0026"/>
<text text-anchor="middle" x="8733" y="-1411.8023" font-family="Inconsolata" font-size="14.00" fill="#000000">function Loader.open()</text>
<text text-anchor="middle" x="8733" y="-1396.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local new = not (File(bridge_modules) : exists())</text>
<text text-anchor="middle" x="8733" y="-1381.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if new then</text>
<text text-anchor="middle" x="8733" y="-1365.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;print &quot;creating new bridge.modules&quot;</text>
<text text-anchor="middle" x="8733" y="-1350.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8733" y="-1334.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local conn = sql.open(bridge_modules)</text>
<text text-anchor="middle" x="8733" y="-1319.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; #todo: turn on foreign_keys pragma when we add sqlayer</text>
<text text-anchor="middle" x="8733" y="-1304.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if new then</text>
<text text-anchor="middle" x="8733" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_version_table)</text>
<text text-anchor="middle" x="8733" y="-1273.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_project_table)</text>
<text text-anchor="middle" x="8733" y="-1257.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_code_table)</text>
<text text-anchor="middle" x="8733" y="-1242.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn:exec(create_module_table)</text>
<text text-anchor="middle" x="8733" y="-1227.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="8733" y="-1211.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return conn</text>
<text text-anchor="middle" x="8733" y="-1196.2019" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_122&#45;&gt;leaf_132 -->
<g id="edge132" class="edge">
<title>codeblock_122&#45;&gt;leaf_132</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8592.7487,-1632.4497C8608.4625,-1596.0425 8645.3042,-1510.6841 8677.285,-1436.5879"/>
<polygon fill="#000000" stroke="#000000" points="8680.6104,-1437.7155 8681.3598,-1427.1472 8674.1835,-1434.9415 8680.6104,-1437.7155"/>
</g>
<!-- leaf_128 -->
<g id="node129" class="node">
<title>leaf_128</title>
<polygon fill="none" stroke="#c0c0c0" points="8246.5,-572.6023 8167.5,-572.6023 8167.5,-516.7993 8246.5,-516.7993 8246.5,-572.6023"/>
<text text-anchor="middle" x="8207" y="-525.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">Loads the</text>
</g>
<!-- raw_124&#45;&gt;leaf_128 -->
<g id="edge128" class="edge">
<title>raw_124&#45;&gt;leaf_128</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8207,-1289.3986C8207,-1191.1099 8207,-720.9265 8207,-582.8844"/>
<polygon fill="#000000" stroke="#000000" points="8210.5001,-582.7842 8207,-572.7842 8203.5001,-582.7843 8210.5001,-582.7842"/>
</g>
<!-- leaf_129 -->
<g id="node130" class="node">
<title>leaf_129</title>
<polygon fill="none" stroke="#c0c0c0" points="8319,-562.7008 8265,-562.7008 8265,-526.7008 8319,-526.7008 8319,-562.7008"/>
<text text-anchor="middle" x="8292" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_125&#45;&gt;leaf_129 -->
<g id="edge129" class="edge">
<title>prespace_125&#45;&gt;leaf_129</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8297.8576,-1289.3986C8297.0652,-1188.6568 8293.1997,-697.225 8292.224,-573.1801"/>
<polygon fill="#000000" stroke="#000000" points="8295.7224,-572.9456 8292.1437,-562.9735 8288.7226,-573.0008 8295.7224,-572.9456"/>
</g>
<!-- leaf_130 -->
<g id="node131" class="node">
<title>leaf_130</title>
<polygon fill="none" stroke="#c0c0c0" points="8451,-562.7008 8337,-562.7008 8337,-526.7008 8451,-526.7008 8451,-562.7008"/>
<text text-anchor="middle" x="8394" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">bridge.modules</text>
</g>
<!-- literal_126&#45;&gt;leaf_130 -->
<g id="edge130" class="edge">
<title>literal_126&#45;&gt;leaf_130</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8394,-1289.3986C8394,-1188.6568 8394,-697.225 8394,-573.1801"/>
<polygon fill="#000000" stroke="#000000" points="8397.5001,-572.9735 8394,-562.9735 8390.5001,-572.9735 8397.5001,-572.9735"/>
</g>
<!-- leaf_131 -->
<g id="node132" class="node">
<title>leaf_131</title>
<polygon fill="none" stroke="#c0c0c0" points="8793,-562.7008 8469,-562.7008 8469,-526.7008 8793,-526.7008 8793,-562.7008"/>
<text text-anchor="middle" x="8631" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> database and returns the SQLite connection.</text>
</g>
<!-- raw_127&#45;&gt;leaf_131 -->
<g id="edge131" class="edge">
<title>raw_127&#45;&gt;leaf_131</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8471.403,-1289.452C8475.1352,-1243.7883 8486.3843,-1120.0862 8506,-1018.6015 8539.167,-847.0073 8599.5799,-645.6945 8622.1668,-572.8149"/>
<polygon fill="#000000" stroke="#000000" points="8625.5876,-573.6012 8625.2171,-563.0129 8618.9038,-571.5212 8625.5876,-573.6012"/>
</g>
<!-- leaf_138 -->
<g id="node139" class="node">
<title>leaf_138</title>
<polygon fill="none" stroke="#c0c0c0" points="9344.5,-1325.5021 9013.5,-1325.5021 9013.5,-1289.5021 9344.5,-1289.5021 9344.5,-1325.5021"/>
<text text-anchor="middle" x="9179" y="-1304.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Loader.commitModule(conn, bytecode, deck)</text>
</g>
<!-- header_133&#45;&gt;leaf_138 -->
<g id="edge138" class="edge">
<title>header_133&#45;&gt;leaf_138</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9189.4086,-1631.9669C9187.5951,-1575.436 9182.1033,-1404.2405 9179.9146,-1336.0128"/>
<polygon fill="#000000" stroke="#000000" points="9183.3999,-1335.4955 9179.581,-1325.6129 9176.4035,-1335.72 9183.3999,-1335.4955"/>
</g>
<!-- raw_139 -->
<g id="node140" class="node">
<title>raw_139</title>
<ellipse fill="none" stroke="#000000" cx="9390" cy="-1307.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="9390" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_134&#45;&gt;raw_139 -->
<g id="edge139" class="edge">
<title>prose_134&#45;&gt;raw_139</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9446.918,-1633.8926C9439.5349,-1623.6793 9430.8429,-1609.9661 9426,-1596.4027 9393.4716,-1505.3008 9389.4591,-1388.9451 9389.5058,-1336.0134"/>
<polygon fill="#000000" stroke="#000000" points="9393.0075,-1335.7341 9389.5686,-1325.7129 9386.0076,-1335.6913 9393.0075,-1335.7341"/>
</g>
<!-- raw_141 -->
<g id="node142" class="node">
<title>raw_141</title>
<ellipse fill="none" stroke="#000000" cx="9462" cy="-1307.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="9462" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_135&#45;&gt;raw_141 -->
<g id="edge141" class="edge">
<title>prose_135&#45;&gt;raw_141</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9532.848,-1636.251C9520.6455,-1626.5177 9505.9489,-1612.4759 9498,-1596.4027 9454.8185,-1509.0865 9456.2503,-1389.5054 9459.5964,-1335.7247"/>
<polygon fill="#000000" stroke="#000000" points="9463.0997,-1335.7968 9460.3012,-1325.5782 9456.1165,-1335.3116 9463.0997,-1335.7968"/>
</g>
<!-- prespace_142 -->
<g id="node143" class="node">
<title>prespace_142</title>
<ellipse fill="none" stroke="#000000" cx="9553" cy="-1307.5021" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="9553" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_135&#45;&gt;prespace_142 -->
<g id="edge142" class="edge">
<title>prose_135&#45;&gt;prespace_142</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9553,-1631.9669C9553,-1575.436 9553,-1404.2405 9553,-1336.0128"/>
<polygon fill="#000000" stroke="#000000" points="9556.5001,-1335.6129 9553,-1325.6129 9549.5001,-1335.613 9556.5001,-1335.6129"/>
</g>
<!-- literal_143 -->
<g id="node144" class="node">
<title>literal_143</title>
<ellipse fill="none" stroke="#000000" cx="9649" cy="-1307.5021" rx="31.481" ry="18"/>
<text text-anchor="middle" x="9649" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_135&#45;&gt;literal_143 -->
<g id="edge143" class="edge">
<title>prose_135&#45;&gt;literal_143</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9573.0591,-1636.2045C9585.2245,-1626.4528 9599.9148,-1612.4077 9608,-1596.4027 9652.022,-1509.2596 9652.9989,-1389.5909 9650.7922,-1335.7564"/>
<polygon fill="#000000" stroke="#000000" points="9654.2802,-1335.4197 9650.3039,-1325.5994 9647.2883,-1335.756 9654.2802,-1335.4197"/>
</g>
<!-- raw_144 -->
<g id="node145" class="node">
<title>raw_144</title>
<ellipse fill="none" stroke="#000000" cx="9725" cy="-1307.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="9725" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_135&#45;&gt;raw_144 -->
<g id="edge144" class="edge">
<title>prose_135&#45;&gt;raw_144</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9584.947,-1646.9782C9616.6354,-1641.7717 9663.9748,-1628.7541 9689,-1596.4027 9749.4305,-1518.281 9738.582,-1391.097 9730.0609,-1335.2663"/>
<polygon fill="#000000" stroke="#000000" points="9733.5156,-1334.7048 9728.462,-1325.3929 9726.6056,-1335.8238 9733.5156,-1334.7048"/>
</g>
<!-- leaf_149 -->
<g id="node150" class="node">
<title>leaf_149</title>
<polygon fill="none" stroke="#c0c0c0" points="10283.5,-1481.403 9770.5,-1481.403 9770.5,-1133.6012 10283.5,-1133.6012 10283.5,-1481.403"/>
<text text-anchor="middle" x="10027" y="-1466.0024" font-family="Inconsolata" font-size="14.00" fill="#000000">local function commitModule(conn, bytecode, project_id, version_id)</text>
<text text-anchor="middle" x="10027" y="-1450.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; upsert code.binary and code.hash</text>
<text text-anchor="middle" x="10027" y="-1435.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:prepare(new_code):bindkv(bytecode):step()</text>
<text text-anchor="middle" x="10027" y="-1419.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; select code_id</text>
<text text-anchor="middle" x="10027" y="-1404.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local code_id = _unwrapForeignKey(conn:exec(</text>
<text text-anchor="middle" x="10027" y="-1389.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sql.format(get_code_id_by_hash,</text>
<text text-anchor="middle" x="10027" y="-1373.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;bytecode.hash)))</text>
<text text-anchor="middle" x="10027" y="-1358.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;print (&quot;code ID is &quot; .. code_id)</text>
<text text-anchor="middle" x="10027" y="-1342.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;print (&quot;module name is &quot; .. bytecode.name)</text>
<text text-anchor="middle" x="10027" y="-1327.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not code_id then</text>
<text text-anchor="middle" x="10027" y="-1312.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;error(&quot;code_id not found for &quot; .. bytecode.name)</text>
<text text-anchor="middle" x="10027" y="-1296.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="10027" y="-1281.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local mod = { name = bytecode.name,</text>
<text text-anchor="middle" x="10027" y="-1265.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;project = project_id,</text>
<text text-anchor="middle" x="10027" y="-1250.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;code = code_id,</text>
<text text-anchor="middle" x="10027" y="-1235.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;snapshot = version_id,</text>
<text text-anchor="middle" x="10027" y="-1219.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;vc_hash = &quot;&quot;,</text>
<text text-anchor="middle" x="10027" y="-1204.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;version = version_id }</text>
<text text-anchor="middle" x="10027" y="-1188.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:prepare(add_module):bindkv(mod):step()</text>
<text text-anchor="middle" x="10027" y="-1173.4018" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="10027" y="-1142.0018" font-family="Inconsolata" font-size="14.00" fill="#000000">Loader.commitModule = commitModule</text>
</g>
<!-- codeblock_136&#45;&gt;leaf_149 -->
<g id="edge149" class="edge">
<title>codeblock_136&#45;&gt;leaf_149</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9867.7959,-1632.4497C9881.382,-1604.7193 9908.8819,-1548.59 9937.2596,-1490.669"/>
<polygon fill="#000000" stroke="#000000" points="9940.5628,-1491.8818 9941.8196,-1481.3618 9934.2767,-1488.802 9940.5628,-1491.8818"/>
</g>
<!-- header_150 -->
<g id="node151" class="node">
<title>header_150</title>
<ellipse fill="none" stroke="#000000" cx="10429" cy="-1307.5021" rx="127.6701" ry="18"/>
<text text-anchor="middle" x="10429" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">4 : _newProject(conn, project)</text>
</g>
<!-- section_137&#45;&gt;header_150 -->
<g id="edge150" class="edge">
<title>section_137&#45;&gt;header_150</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10513.215,-1631.9669C10498.5121,-1575.3195 10453.9251,-1403.5341 10436.2908,-1335.5921"/>
<polygon fill="#000000" stroke="#000000" points="10439.6008,-1334.4129 10433.7007,-1325.6129 10432.8253,-1336.1715 10439.6008,-1334.4129"/>
</g>
<!-- prose_151 -->
<g id="node152" class="node">
<title>prose_151</title>
<ellipse fill="none" stroke="#000000" cx="10607" cy="-1307.5021" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="10607" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_137&#45;&gt;prose_151 -->
<g id="edge151" class="edge">
<title>section_137&#45;&gt;prose_151</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10538.3992,-1632.9189C10548.3649,-1623.203 10559.5677,-1610.2881 10566,-1596.4027 10606.9377,-1508.0299 10609.5111,-1389.454 10608.2544,-1335.8815"/>
<polygon fill="#000000" stroke="#000000" points="10611.7493,-1335.6565 10607.9514,-1325.7658 10604.7525,-1335.8661 10611.7493,-1335.6565"/>
</g>
<!-- codeblock_152 -->
<g id="node153" class="node">
<title>codeblock_152</title>
<ellipse fill="none" stroke="#000000" cx="10745" cy="-1307.5021" rx="87.0948" ry="18"/>
<text text-anchor="middle" x="10745" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 295&#45;304</text>
</g>
<!-- section_137&#45;&gt;codeblock_152 -->
<g id="edge152" class="edge">
<title>section_137&#45;&gt;codeblock_152</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10574.4382,-1638.3228C10599.9149,-1630.279 10628.582,-1617.225 10648,-1596.4027 10718.5104,-1520.7929 10737.8945,-1392.2861 10743.1204,-1335.6884"/>
<polygon fill="#000000" stroke="#000000" points="10746.612,-1335.9335 10743.9643,-1325.6749 10739.6368,-1335.3456 10746.612,-1335.9335"/>
</g>
<!-- leaf_140 -->
<g id="node141" class="node">
<title>leaf_140</title>
<polygon fill="none" stroke="#c0c0c0" points="9163,-572.6023 8811,-572.6023 8811,-516.7993 9163,-516.7993 9163,-572.6023"/>
<text text-anchor="middle" x="8987" y="-525.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">Commits a single module and associated bytecode.</text>
</g>
<!-- raw_139&#45;&gt;leaf_140 -->
<g id="edge140" class="edge">
<title>raw_139&#45;&gt;leaf_140</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9394.0081,-1289.6767C9404.1387,-1239.5285 9425.1088,-1095.8622 9353,-1018.6015 9297.0366,-958.6398 9235.5853,-1034.411 9172,-982.6015 9043.6339,-878.0086 9002.8439,-668.3936 8991.2043,-582.6144"/>
<polygon fill="#000000" stroke="#000000" points="8994.6552,-582.0096 8989.8957,-572.544 8987.7136,-582.9116 8994.6552,-582.0096"/>
</g>
<!-- leaf_145 -->
<g id="node146" class="node">
<title>leaf_145</title>
<polygon fill="none" stroke="#c0c0c0" points="9743,-579.9012 9181,-579.9012 9181,-509.5004 9743,-509.5004 9743,-579.9012"/>
<text text-anchor="middle" x="9462" y="-548.6008" font-family="Inconsolata" font-size="14.00" fill="#000000">It might be smarter to fetch all hashes associated with the project first, and</text>
<text text-anchor="middle" x="9462" y="-533.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">only commit ones which aren&#39;t on the list, but it&#39;s definitely easier to just</text>
<text text-anchor="middle" x="9462" y="-517.8008" font-family="Inconsolata" font-size="14.00" fill="#000000">commit everything and let the</text>
</g>
<!-- raw_141&#45;&gt;leaf_145 -->
<g id="edge145" class="edge">
<title>raw_141&#45;&gt;leaf_145</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9462,-1289.3986C9462,-1192.7857 9462,-736.8515 9462,-590.2313"/>
<polygon fill="#000000" stroke="#000000" points="9465.5001,-590.2183 9462,-580.2184 9458.5001,-590.2184 9465.5001,-590.2183"/>
</g>
<!-- leaf_146 -->
<g id="node147" class="node">
<title>leaf_146</title>
<polygon fill="none" stroke="#c0c0c0" points="9815,-562.7008 9761,-562.7008 9761,-526.7008 9815,-526.7008 9815,-562.7008"/>
<text text-anchor="middle" x="9788" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_142&#45;&gt;leaf_146 -->
<g id="edge146" class="edge">
<title>prespace_142&#45;&gt;leaf_146</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9550.5063,-1289.3457C9544.6829,-1238.9511 9535.783,-1095.9728 9609,-1018.6015 9654.0472,-970.9984 9709.6237,-1032.5971 9752,-982.6015 9854.4566,-861.7232 9814.3416,-648.6852 9795.571,-572.6434"/>
<polygon fill="#000000" stroke="#000000" points="9798.9366,-571.6764 9793.0811,-562.8467 9792.1523,-573.4007 9798.9366,-571.6764"/>
</g>
<!-- leaf_147 -->
<g id="node148" class="node">
<title>leaf_147</title>
<polygon fill="none" stroke="#c0c0c0" points="9975,-562.7008 9833,-562.7008 9833,-526.7008 9975,-526.7008 9975,-562.7008"/>
<text text-anchor="middle" x="9904" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">ON CONFLICT IGNORE</text>
</g>
<!-- literal_143&#45;&gt;leaf_147 -->
<g id="edge147" class="edge">
<title>literal_143&#45;&gt;leaf_147</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9645.3986,-1289.5242C9636.5192,-1239.5924 9619.0784,-1097.7011 9689,-1018.6015 9730.1268,-972.0764 9781.8799,-1028.2293 9824,-982.6015 9932.6708,-864.881 9917.8019,-650.6634 9908.2133,-573.4276"/>
<polygon fill="#000000" stroke="#000000" points="9911.6235,-572.5135 9906.8522,-563.0539 9904.6829,-573.4242 9911.6235,-572.5135"/>
</g>
<!-- leaf_148 -->
<g id="node149" class="node">
<title>leaf_148</title>
<polygon fill="none" stroke="#c0c0c0" points="10156.5,-562.7008 9993.5,-562.7008 9993.5,-526.7008 10156.5,-526.7008 10156.5,-562.7008"/>
<text text-anchor="middle" x="10075" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> prevent duplication.</text>
</g>
<!-- raw_144&#45;&gt;leaf_148 -->
<g id="edge148" class="edge">
<title>raw_144&#45;&gt;leaf_148</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9720.7789,-1289.5525C9710.0768,-1239.0774 9687.6627,-1094.6339 9761,-1018.6015 9830.6972,-946.3429 9911.4369,-1051.9817 9984,-982.6015 10100.8519,-870.8751 10087.8243,-651.2262 10078.8874,-573.1072"/>
<polygon fill="#000000" stroke="#000000" points="10082.3462,-572.5552 10077.6674,-563.0495 10075.3971,-573.3982 10082.3462,-572.5552"/>
</g>
<!-- leaf_153 -->
<g id="node154" class="node">
<title>leaf_153</title>
<polygon fill="none" stroke="#c0c0c0" points="10545.5,-562.7008 10312.5,-562.7008 10312.5,-526.7008 10545.5,-526.7008 10545.5,-562.7008"/>
<text text-anchor="middle" x="10429" y="-541.2008" font-family="Inconsolata" font-size="14.00" fill="#000000">**** _newProject(conn, project)</text>
</g>
<!-- header_150&#45;&gt;leaf_153 -->
<g id="edge153" class="edge">
<title>header_150&#45;&gt;leaf_153</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10429,-1289.3986C10429,-1188.6568 10429,-697.225 10429,-573.1801"/>
<polygon fill="#000000" stroke="#000000" points="10432.5001,-572.9735 10429,-562.9735 10425.5001,-572.9735 10432.5001,-572.9735"/>
</g>
<!-- raw_154 -->
<g id="node155" class="node">
<title>raw_154</title>
<ellipse fill="none" stroke="#000000" cx="10599" cy="-544.7008" rx="27" ry="18"/>
<text text-anchor="middle" x="10599" y="-540.5008" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_151&#45;&gt;raw_154 -->
<g id="edge154" class="edge">
<title>prose_151&#45;&gt;raw_154</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10606.8101,-1289.3986C10605.7536,-1188.6568 10600.5996,-697.225 10599.2987,-573.1801"/>
<polygon fill="#000000" stroke="#000000" points="10602.7964,-572.9362 10599.1916,-562.9735 10595.7968,-573.0097 10602.7964,-572.9362"/>
</g>
<!-- leaf_156 -->
<g id="node157" class="node">
<title>leaf_156</title>
<polygon fill="none" stroke="#c0c0c0" points="11017.5,-610.4012 10644.5,-610.4012 10644.5,-479.0004 11017.5,-479.0004 11017.5,-610.4012"/>
<text text-anchor="middle" x="10831" y="-595.1009" font-family="Inconsolata" font-size="14.00" fill="#000000">local function _newProject(conn, project)</text>
<text text-anchor="middle" x="10831" y="-579.7009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;assert(project.name, &quot;project must have a name&quot;)</text>
<text text-anchor="middle" x="10831" y="-564.3009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project.repo = project.repo or &quot;&quot;</text>
<text text-anchor="middle" x="10831" y="-548.9008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project.home = project.home or &quot;&quot;</text>
<text text-anchor="middle" x="10831" y="-533.5008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;project.website = project.website or &quot;&quot;</text>
<text text-anchor="middle" x="10831" y="-518.1008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:prepare(new_project):bindkv(project):step()</text>
<text text-anchor="middle" x="10831" y="-502.7007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return true</text>
<text text-anchor="middle" x="10831" y="-487.3007" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_152&#45;&gt;leaf_156 -->
<g id="edge156" class="edge">
<title>codeblock_152&#45;&gt;leaf_156</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10747.041,-1289.3986C10757.2611,-1198.7489 10803.1454,-791.7647 10822.4251,-620.7581"/>
<polygon fill="#000000" stroke="#000000" points="10825.9304,-620.9072 10823.5728,-610.578 10818.9745,-620.1229 10825.9304,-620.9072"/>
</g>
<!-- leaf_155 -->
<g id="node156" class="node">
<title>leaf_155</title>
<polygon fill="none" stroke="#c0c0c0" points="10626,-53.4 10572,-53.4 10572,-17.4 10626,-17.4 10626,-53.4"/>
</g>
<!-- raw_154&#45;&gt;leaf_155 -->
<g id="edge155" class="edge">
<title>raw_154&#45;&gt;leaf_155</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10599,-526.5745C10599,-450.468 10599,-156.4165 10599,-63.6239"/>
<polygon fill="#000000" stroke="#000000" points="10602.5001,-63.5743 10599,-53.5744 10595.5001,-63.5744 10602.5001,-63.5743"/>
</g>
<!-- leaf_161 -->
<g id="node162" class="node">
<title>leaf_161</title>
<polygon fill="none" stroke="#c0c0c0" points="11111.5,-1325.5021 10850.5,-1325.5021 10850.5,-1289.5021 11111.5,-1289.5021 11111.5,-1325.5021"/>
<text text-anchor="middle" x="10981" y="-1304.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Loader.commitCodex(conn, codex)</text>
</g>
<!-- header_157&#45;&gt;leaf_161 -->
<g id="edge161" class="edge">
<title>header_157&#45;&gt;leaf_161</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M10981,-1631.9669C10981,-1575.436 10981,-1404.2405 10981,-1336.0128"/>
<polygon fill="#000000" stroke="#000000" points="10984.5001,-1335.6129 10981,-1325.6129 10977.5001,-1335.613 10984.5001,-1335.6129"/>
</g>
<!-- raw_162 -->
<g id="node163" class="node">
<title>raw_162</title>
<ellipse fill="none" stroke="#000000" cx="11157" cy="-1307.5021" rx="27" ry="18"/>
<text text-anchor="middle" x="11157" y="-1303.3021" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_158&#45;&gt;raw_162 -->
<g id="edge162" class="edge">
<title>prose_158&#45;&gt;raw_162</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11189.172,-1631.9669C11183.5552,-1575.3195 11166.522,-1403.5341 11159.7852,-1335.5921"/>
<polygon fill="#000000" stroke="#000000" points="11163.2655,-1335.2188 11158.7958,-1325.6129 11156.2996,-1335.9095 11163.2655,-1335.2188"/>
</g>
<!-- leaf_164 -->
<g id="node165" class="node">
<title>leaf_164</title>
<polygon fill="none" stroke="#c0c0c0" points="11750,-1596.3033 11202,-1596.3033 11202,-1018.7009 11750,-1018.7009 11750,-1596.3033"/>
<text text-anchor="middle" x="11476" y="-1581.2027" font-family="Inconsolata" font-size="14.00" fill="#000000">function Loader.commitCodex(conn, codex)</text>
<text text-anchor="middle" x="11476" y="-1565.8027" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; begin transaction</text>
<text text-anchor="middle" x="11476" y="-1550.4026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:exec &quot;BEGIN TRANSACTION;&quot;</text>
<text text-anchor="middle" x="11476" y="-1535.0026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; currently we&#39;re only making snapshots, so let&#39;s create the</text>
<text text-anchor="middle" x="11476" y="-1519.6026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; snapshot version if we don&#39;t have it.</text>
<text text-anchor="middle" x="11476" y="-1504.2025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local version_id = _unwrapForeignKey(conn:exec(get_snapshot_version))</text>
<text text-anchor="middle" x="11476" y="-1488.8025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if not version_id then</text>
<text text-anchor="middle" x="11476" y="-1473.4025" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;conn : prepare(new_version_snapshot) : bindkv { edition = &quot;SNAPSHOT&quot;,</text>
<text text-anchor="middle" x="11476" y="-1458.0024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;version = version_id }</text>
<text text-anchor="middle" x="11476" y="-1442.6024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;: step()</text>
<text text-anchor="middle" x="11476" y="-1427.2024" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;version_id = _unwrapForeignKey(conn:exec(get_snapshot_version))</text>
<text text-anchor="middle" x="11476" y="-1411.8023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not version_id then</text>
<text text-anchor="middle" x="11476" y="-1396.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error &quot;didn&#39;t make a SNAPSHOT&quot;</text>
<text text-anchor="middle" x="11476" y="-1381.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11476" y="-1365.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11476" y="-1350.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; upsert project</text>
<text text-anchor="middle" x="11476" y="-1334.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; select project_id</text>
<text text-anchor="middle" x="11476" y="-1319.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local get_proj = sql.format(get_project_id, codex.project)</text>
<text text-anchor="middle" x="11476" y="-1304.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;local project_id = _unwrapForeignKey(conn:exec(get_proj))</text>
<text text-anchor="middle" x="11476" y="-1288.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;if project_id then</text>
<text text-anchor="middle" x="11476" y="-1273.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;print (&quot;project_id is &quot; .. project_id)</text>
<text text-anchor="middle" x="11476" y="-1257.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;else</text>
<text text-anchor="middle" x="11476" y="-1242.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;_newProject(conn, {name = codex.project})</text>
<text text-anchor="middle" x="11476" y="-1227.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;project_id = _unwrapForeignKey(conn:exec(get_proj))</text>
<text text-anchor="middle" x="11476" y="-1211.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;if not project_id then</text>
<text text-anchor="middle" x="11476" y="-1196.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error (&quot;failed to create project &quot; .. codex.project)</text>
<text text-anchor="middle" x="11476" y="-1180.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="11476" y="-1165.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11476" y="-1150.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; This for now will just</text>
<text text-anchor="middle" x="11476" y="-1134.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;print (&quot;version_id is &quot; .. version_id)</text>
<text text-anchor="middle" x="11476" y="-1119.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;for _, bytecode in pairs(codex.bytecodes) do</text>
<text text-anchor="middle" x="11476" y="-1103.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;commitModule(conn, bytecode, project_id, version_id)</text>
<text text-anchor="middle" x="11476" y="-1088.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;end</text>
<text text-anchor="middle" x="11476" y="-1073.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45;&#45; commit transaction</text>
<text text-anchor="middle" x="11476" y="-1057.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;conn:exec &quot;COMMIT;&quot;</text>
<text text-anchor="middle" x="11476" y="-1042.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;return conn</text>
<text text-anchor="middle" x="11476" y="-1026.8016" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_159&#45;&gt;leaf_164 -->
<g id="edge164" class="edge">
<title>codeblock_159&#45;&gt;leaf_164</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11405.9786,-1631.9669C11407.4687,-1625.0619 11409.328,-1616.4463 11411.4709,-1606.5165"/>
<polygon fill="#000000" stroke="#000000" points="11414.9212,-1607.1198 11413.6095,-1596.6065 11408.0787,-1605.6431 11414.9212,-1607.1198"/>
</g>
<!-- leaf_165 -->
<g id="node166" class="node">
<title>leaf_165</title>
<polygon fill="none" stroke="#c0c0c0" points="11875.5,-1325.5021 11768.5,-1325.5021 11768.5,-1289.5021 11875.5,-1289.5021 11875.5,-1325.5021"/>
<text text-anchor="middle" x="11822" y="-1304.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">return Loader</text>
</g>
<!-- codeblock_160&#45;&gt;leaf_165 -->
<g id="edge165" class="edge">
<title>codeblock_160&#45;&gt;leaf_165</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11729.2542,-1632.9409C11739.7278,-1623.2311 11751.6548,-1610.3149 11759,-1596.4027 11805.1914,-1508.9136 11817.5397,-1389.4199 11820.822,-1335.693"/>
<polygon fill="#000000" stroke="#000000" points="11824.3249,-1335.7342 11821.3794,-1325.5571 11817.3355,-1335.3498 11824.3249,-1335.7342"/>
</g>
<!-- leaf_163 -->
<g id="node164" class="node">
<title>leaf_163</title>
<polygon fill="none" stroke="#c0c0c0" points="11184,-562.7008 11130,-562.7008 11130,-526.7008 11184,-526.7008 11184,-562.7008"/>
</g>
<!-- raw_162&#45;&gt;leaf_163 -->
<g id="edge163" class="edge">
<title>raw_162&#45;&gt;leaf_163</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M11157,-1289.3986C11157,-1188.6568 11157,-697.225 11157,-573.1801"/>
<polygon fill="#000000" stroke="#000000" points="11160.5001,-572.9735 11157,-562.9735 11153.5001,-572.9735 11160.5001,-572.9735"/>
</g>
</g>
</svg>
